// ==UserScript==
// @name		bro3_fort_info_tool
// @namespace	https://gist.github.com/RAPT21/
// @description	ブラウザ三国志 砦包囲情報取得ツール by RAPT
// @include 	http://*.3gokushi.jp/map.php*
// @exclude		http://*.3gokushi.jp/maintenance*
// @require		http://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js
// @connect		3gokushi.jp
// @grant		none
// @author		RAPT
// @version 	0.9
// ==/UserScript==
var VERSION = "0.9"; 	// バージョン情報

// 2015.08.10	0.1	プロトタイプ版です。
// 2015.08.11	0.2	処理結果を UI で表示対応。
//					5期砦一覧を埋めた。けど全部やるとガチでDoS攻撃になるので注意。
//					処理開始時に自同盟名を指定できるようにした。
// 2015.08.12	0.3	自同盟名の自動取得対応。
// 2016.03.11	0.4	メンテによる MAP 情報変更対応。
// 2016.03.12	0.5	探索砦をオプション化。OPT_TARGET_ZONE
// 2016.03.13	0.6	出力結果をソートしやすくするためNPC砦名の数字に前ゼロを付与するようにした。
// 2016.07.08	0.7	とりあえず10期MAP対応。
// 2017.07.20	0.8	7/12の大型アップデートでマップ情報のフォーマットが変更されて動作しなくなっていたのを修正
// 2017.12.06	0.9	とりあえず14期MAP対応。


// 探索砦
var TARGET_ZONE_BUSHO = 0;		// 武将砦/城
var TARGET_ZONE_NORTH_EAST = 1;	// 北東砦
var TARGET_ZONE_NORTH_WEST = 2;	// 北西砦
var TARGET_ZONE_SOUTH_EAST = 3;	// 南東砦
var TARGET_ZONE_SOUTH_WEST = 4;	// 南西砦

// 期
var TARGET_NPC_MAP_TYPE_5  = 5;	// 5-9期
var TARGET_NPC_MAP_TYPE_10 = 10;// 10-13期
var TARGET_NPC_MAP_TYPE_14 = 14;// 14-期


//====================[ 設定ここから ]====================

// 探索対象砦をここで指定
var OPT_TARGET_ZONE = TARGET_ZONE_BUSHO;

// 期をここで指定
var OPT_TARGET_NPC_MAP = TARGET_NPC_MAP_TYPE_5;

// 自同盟名（指定すると主観的情報として、カラだと客観的情報として結果を出力）
var OPT_TARGET_ALLY = "";

//====================[ 設定ここまで ]====================



// 探索対象の座標[x,y]の配列
var GET_MAP_LIST_BUSHO_5ki = [
//==========[ 武将砦/城 ]==========
[0,0],
[-88,88],	[88,88],	[-88,-88],	[88,-88],
[-220,0],	[220,0],	[-220,220],	[0,220],
[220,220],	[-220,-220],	[0,-220],	[220,-220],
[418,418],	[-154,418],	[154,418],	[-418,418],
[418,154],	[-418,154],	[-418,-154],	[418,-154],
[-418,-418],	[-154,-418],	[154,-418],	[418,-418],
[-308,308],	[308,308],	[308,-308],	[-308,-308]
];

var GET_MAP_LIST_NPC_5ki_NE = [
//==========[ 北東砦 ]==========
[22,27],	[26,49],	[22,65],	[23,89],	[25,113],	[21,132],	[23,149],	[22,173],	[40,24],	[42,44],
[43,62],	[49,89],	[43,105],	[48,129],	[46,154],	[46,172],	[62,20],	[68,44],	[64,68],	[71,86],
[70,111],	[62,132],	[65,154],	[63,180],	[88,21],	[87,47],	[88,64],	[91,111],	[93,137],	[88,155],
[88,177],	[108,17],	[109,49],	[105,64],	[112,93],	[110,112],	[105,132],	[113,149],	[111,177],	[137,21],
[131,46],	[127,68],	[127,88],	[130,110],	[137,137],	[137,158],	[134,179],	[156,19],	[155,43],	[152,66],
[154,90],	[155,114],	[149,132],	[157,153],	[157,178],	[171,17],	[171,46],	[176,63],	[176,86],	[180,111],
[173,132],	[171,153],	[171,176],	[197,22],	[199,66],	[196,114],	[200,154],	[198,194],	[196,243],	[198,281],
[193,327],	[200,372],	[202,415],	[203,462],	[201,506],	[194,553],	[220,41],	[220,88],	[218,132],	[221,171],
[221,265],	[218,308],	[225,350],	[219,392],	[218,435],	[223,484],	[222,530],	[217,572],	[242,22],	[238,69],
[247,108],	[247,154],	[244,194],	[243,241],	[242,284],	[243,325],	[245,371],	[244,418],	[242,463],	[241,506],
[241,553],	[268,39],	[269,91],	[264,131],	[264,171],	[260,218],	[269,265],	[264,312],	[264,354],	[264,393],
[264,436],	[267,484],	[260,530],	[261,570],	[281,22],	[284,61],	[283,110],	[284,155],	[285,198],	[283,240],
[284,284],	[281,334],	[283,371],	[285,418],	[290,463],	[282,504],	[291,550],	[305,47],	[307,87],	[308,131],
[306,174],	[306,220],	[303,266],	[313,357],	[304,396],	[308,443],	[308,485],	[310,532],	[309,568],	[335,17],
[328,70],	[332,110],	[333,154],	[327,198],	[332,237],	[335,284],	[329,333],	[330,374],	[332,418],	[327,467],
[327,506],	[326,550],	[347,46],	[352,93],	[351,133],	[350,176],	[357,221],	[347,266],	[352,308],	[356,351],
[352,395],	[349,439],	[356,484],	[355,527],	[350,575],	[375,19],	[370,61],	[373,105],	[372,149],	[369,201],
[376,237],	[377,281],	[379,328],	[370,376],	[378,418],	[375,462],	[374,510],	[371,554],	[392,44],	[394,84],
[398,128],	[401,172],	[391,219],	[396,264],	[396,308],	[398,352],	[400,399],	[399,444],	[396,483],	[394,530],
[396,567],	[418,17],	[423,63],	[418,107],	[422,200],	[416,240],	[418,288],	[415,330],	[415,371],	[420,463],
[413,502],	[422,552],	[442,49],	[444,90],	[441,137],	[436,180],	[435,219],	[440,263],	[442,313],	[445,356],
[444,401],	[439,444],	[444,483],	[445,523],	[445,574],	[460,18],	[457,63],	[457,115],	[461,154],	[460,195],
[465,246],	[457,287],	[460,327],	[463,379],	[461,419],	[466,467],	[465,511],	[463,550],	[486,47],	[487,87],
[489,131],	[481,172],	[486,224],	[488,266],	[481,308],	[481,357],	[487,393],	[483,436],	[488,480],	[486,532],
[482,570],	[511,19],	[501,64],	[502,107],	[502,156],	[504,198],	[506,242],	[509,286],	[506,334],	[501,370],
[509,413],	[506,465],	[510,505],	[505,554],	[525,40],	[528,89],	[533,130],	[532,174],	[527,223],	[525,264],
[525,305],	[532,352],	[528,398],	[531,443],	[532,484],	[527,528],	[525,576],	[548,21],	[550,66],	[546,112],
[546,154],	[545,193],	[546,241],	[545,281],	[547,334],	[548,379],	[546,415],	[555,463],	[545,508],	[546,548],
[570,47],	[573,93],	[572,131],	[571,181],	[576,219],	[576,260],	[573,307],	[575,353],	[567,401],	[572,442],
[568,488],	[569,524],	[568,577],	[18,198],	[25,237],	[24,281],	[25,333],	[20,369],	[18,418],	[17,467],
[23,510],	[26,546],	[46,220],	[42,267],	[44,305],	[40,352],	[41,397],	[47,438],	[44,483],	[44,530],
[49,567],	[68,194],	[62,244],	[64,291],	[69,332],	[71,371],	[71,416],	[64,464],	[61,510],	[62,555],
[93,215],	[89,267],	[89,312],	[83,352],	[90,401],	[87,444],	[87,487],	[93,533],	[84,569],	[108,197],
[115,245],	[108,282],	[110,333],	[109,376],	[109,421],	[110,462],	[112,504],	[115,553],	[132,222],	[129,259],
[136,309],	[136,353],	[129,394],	[127,442],	[128,484],	[134,529],	[132,567],	[159,199],	[157,243],	[151,288],
[149,330],	[152,377],	[157,463],	[149,506],	[158,545],	[171,217],	[179,261],	[176,306],	[177,352],	[181,392],
[181,445],	[175,486],	[176,530],	[177,571],	[25,3],	[83,3],	[106,0],	[131,4],	[172,3],	[308,0],
[395,0],	[443,3],	[528,5],	[0,27],	[3,42],	[0,88],	[2,111],	[0,135],	[2,159],	[3,177],
[5,311],	[5,348],	[1,396],	[0,435],	[2,489],	[2,531],	[4,572]];

var GET_MAP_LIST_NPC_5ki_NW = [
//==========[ 北西砦 ]==========
[-22,19],	[-26,46],	[-27,67],	[-26,90],	[-23,106],	[-20,135],	[-22,153],	[-22,181],	[-45,26],	[-43,39],
[-41,70],	[-39,86],	[-44,107],	[-46,132],	[-40,150],	[-42,175],	[-66,23],	[-65,40],	[-66,67],	[-68,88],
[-61,111],	[-62,135],	[-65,152],	[-61,171],	[-84,27],	[-92,46],	[-87,68],	[-91,108],	[-88,135],	[-88,154],
[-90,180],	[-115,22],	[-108,41],	[-106,70],	[-115,88],	[-110,110],	[-114,135],	[-112,158],	[-107,176],	[-131,22],
[-137,46],	[-129,65],	[-130,84],	[-133,105],	[-136,127],	[-135,159],	[-135,174],	[-159,25],	[-152,49],	[-158,67],
[-150,85],	[-150,105],	[-157,128],	[-157,155],	[-158,172],	[-175,18],	[-176,39],	[-180,64],	[-171,87],	[-179,109],
[-172,128],	[-178,155],	[-176,171],	[-201,22],	[-201,66],	[-199,111],	[-201,150],	[-199,203],	[-199,237],	[-198,287],
[-195,331],	[-200,369],	[-193,423],	[-197,457],	[-200,506],	[-198,550],	[-223,43],	[-220,87],	[-223,132],	[-224,171],
[-221,269],	[-225,303],	[-222,353],	[-219,397],	[-222,436],	[-217,487],	[-219,523],	[-217,568],	[-247,18],	[-242,63],
[-245,108],	[-238,152],	[-242,197],	[-247,238],	[-246,287],	[-237,334],	[-239,371],	[-245,413],	[-246,457],	[-242,507],
[-237,555],	[-267,40],	[-264,83],	[-262,130],	[-266,173],	[-269,219],	[-266,261],	[-264,309],	[-265,355],	[-264,394],
[-260,440],	[-262,487],	[-267,525],	[-263,568],	[-282,17],	[-291,61],	[-286,112],	[-286,149],	[-291,197],	[-286,245],
[-283,286],	[-285,328],	[-281,376],	[-287,423],	[-288,460],	[-286,510],	[-289,550],	[-307,40],	[-312,85],	[-306,135],
[-312,178],	[-311,220],	[-307,267],	[-308,350],	[-309,393],	[-308,440],	[-308,484],	[-308,532],	[-304,572],	[-331,21],
[-328,71],	[-326,106],	[-331,157],	[-329,201],	[-326,244],	[-327,288],	[-331,328],	[-327,375],	[-332,422],	[-330,458],
[-327,507],	[-329,555],	[-354,47],	[-356,87],	[-354,134],	[-357,176],	[-357,215],	[-357,267],	[-356,305],	[-347,356],
[-354,393],	[-348,440],	[-352,484],	[-354,532],	[-351,576],	[-371,26],	[-374,68],	[-375,112],	[-370,159],	[-378,195],
[-379,241],	[-376,284],	[-379,329],	[-374,370],	[-369,423],	[-370,463],	[-374,505],	[-371,545],	[-394,45],	[-396,86],
[-395,136],	[-392,174],	[-394,215],	[-399,263],	[-394,311],	[-393,355],	[-393,396],	[-399,435],	[-396,484],	[-400,532],
[-395,572],	[-420,20],	[-423,67],	[-422,111],	[-420,194],	[-422,243],	[-415,282],	[-420,331],	[-421,378],	[-417,461],
[-423,503],	[-417,553],	[-444,39],	[-444,88],	[-436,128],	[-443,172],	[-445,218],	[-440,261],	[-444,310],	[-435,351],
[-436,399],	[-437,437],	[-439,482],	[-441,526],	[-438,568],	[-463,20],	[-462,70],	[-462,107],	[-467,154],	[-462,201],
[-457,238],	[-459,290],	[-457,335],	[-462,372],	[-465,413],	[-465,460],	[-463,507],	[-461,555],	[-484,46],	[-488,88],
[-480,136],	[-482,177],	[-489,223],	[-482,268],	[-482,313],	[-479,352],	[-486,395],	[-489,438],	[-484,483],	[-489,533],
[-483,570],	[-501,21],	[-510,66],	[-502,115],	[-504,150],	[-511,198],	[-502,242],	[-511,286],	[-502,327],	[-511,375],
[-506,417],	[-503,464],	[-511,506],	[-504,545],	[-528,43],	[-526,90],	[-526,134],	[-526,176],	[-523,220],	[-533,268],
[-525,304],	[-524,347],	[-525,400],	[-528,435],	[-523,481],	[-532,524],	[-531,572],	[-554,18],	[-555,61],	[-546,114],
[-554,149],	[-547,198],	[-546,238],	[-546,282],	[-549,329],	[-548,377],	[-549,423],	[-547,457],	[-549,511],	[-546,546],
[-570,47],	[-572,87],	[-574,134],	[-568,178],	[-571,220],	[-576,268],	[-575,311],	[-568,357],	[-577,391],	[-570,441],
[-571,483],	[-576,523],	[-575,577],	[-24,203],	[-22,237],	[-18,286],	[-21,325],	[-22,378],	[-26,423],	[-20,462],
[-27,510],	[-17,548],	[-40,217],	[-41,260],	[-42,307],	[-47,347],	[-43,397],	[-40,443],	[-48,489],	[-40,527],
[-49,569],	[-68,197],	[-70,243],	[-71,289],	[-63,329],	[-64,369],	[-64,422],	[-69,460],	[-68,511],	[-63,554],
[-90,221],	[-92,260],	[-85,306],	[-85,355],	[-88,401],	[-93,444],	[-91,488],	[-83,527],	[-87,573],	[-110,200],
[-113,240],	[-107,288],	[-111,334],	[-107,370],	[-111,416],	[-115,459],	[-106,506],	[-112,551],	[-136,216],	[-135,265],
[-129,312],	[-133,354],	[-132,399],	[-132,440],	[-136,484],	[-132,528],	[-132,568],	[-149,194],	[-153,242],	[-154,289],
[-150,327],	[-154,371],	[-154,466],	[-152,502],	[-157,547],	[-174,220],	[-171,268],	[-179,312],	[-180,354],	[-181,397],
[-176,440],	[-177,480],	[-178,530],	[-174,567],	[-22,5],	[-47,3],	[-66,1],	[-109,0],	[-135,0],	[-177,5],
[-267,2],	[-441,2],	[-483,2],	[-2,68],	[-2,267]];

var GET_MAP_LIST_NPC_5ki_SE = [
//==========[ 南東砦 ]==========
[25,-17],	[22,-43],	[23,-71],	[25,-88],	[17,-115],	[18,-127],	[22,-156],	[26,-180],	[41,-23],	[41,-39],
[42,-66],	[43,-88],	[48,-106],	[42,-128],	[41,-152],	[40,-178],	[69,-23],	[67,-42],	[68,-66],	[71,-88],
[67,-110],	[70,-137],	[70,-155],	[71,-177],	[83,-24],	[90,-44],	[83,-67],	[93,-113],	[88,-137],	[86,-150],
[83,-179],	[113,-18],	[106,-42],	[108,-66],	[107,-88],	[112,-110],	[110,-133],	[109,-149],	[115,-176],	[131,-22],
[129,-40],	[135,-66],	[133,-90],	[130,-106],	[132,-129],	[134,-157],	[133,-177],	[149,-26],	[154,-44],	[151,-63],
[158,-90],	[156,-106],	[154,-135],	[150,-153],	[152,-178],	[177,-19],	[173,-44],	[180,-64],	[172,-91],	[172,-105],
[173,-133],	[176,-155],	[173,-172],	[198,-18],	[195,-67],	[202,-115],	[196,-156],	[199,-199],	[202,-246],	[201,-281],
[201,-327],	[202,-372],	[198,-419],	[195,-460],	[200,-503],	[193,-554],	[220,-42],	[225,-89],	[220,-127],	[218,-177],
[224,-260],	[215,-307],	[217,-352],	[225,-398],	[220,-440],	[225,-480],	[222,-531],	[220,-577],	[237,-19],	[244,-66],
[246,-112],	[240,-154],	[246,-193],	[247,-242],	[237,-290],	[238,-327],	[247,-375],	[244,-418],	[237,-463],	[243,-511],
[247,-554],	[262,-39],	[267,-91],	[262,-132],	[265,-179],	[260,-221],	[259,-263],	[264,-303],	[260,-355],	[263,-392],
[265,-439],	[264,-488],	[264,-527],	[261,-577],	[281,-23],	[282,-63],	[287,-115],	[291,-154],	[286,-203],	[289,-245],
[289,-286],	[281,-327],	[284,-376],	[289,-421],	[286,-467],	[283,-504],	[283,-550],	[311,-39],	[306,-84],	[306,-137],
[303,-173],	[313,-221],	[309,-259],	[306,-347],	[312,-396],	[307,-441],	[312,-484],	[308,-528],	[313,-575],	[332,-25],
[334,-63],	[332,-109],	[332,-154],	[334,-201],	[330,-246],	[333,-291],	[334,-331],	[333,-374],	[329,-421],	[332,-463],
[325,-511],	[328,-546],	[354,-41],	[353,-88],	[351,-135],	[349,-176],	[355,-221],	[347,-268],	[357,-303],	[350,-353],
[357,-393],	[347,-445],	[349,-479],	[356,-530],	[348,-577],	[375,-25],	[375,-63],	[378,-114],	[373,-156],	[379,-197],
[376,-245],	[373,-290],	[374,-330],	[379,-373],	[374,-423],	[377,-457],	[371,-511],	[373,-555],	[398,-43],	[392,-87],
[391,-128],	[391,-175],	[393,-222],	[400,-261],	[396,-308],	[393,-353],	[396,-397],	[401,-439],	[393,-485],	[397,-530],
[399,-576],	[419,-19],	[418,-70],	[423,-112],	[414,-195],	[423,-244],	[422,-291],	[421,-330],	[413,-374],	[418,-462],
[416,-511],	[419,-550],	[437,-39],	[445,-93],	[441,-130],	[438,-172],	[436,-225],	[441,-269],	[440,-308],	[437,-352],
[437,-392],	[442,-440],	[436,-479],	[438,-523],	[437,-574],	[462,-21],	[458,-62],	[462,-109],	[457,-150],	[466,-201],
[459,-244],	[459,-281],	[462,-333],	[457,-375],	[467,-420],	[457,-466],	[458,-502],	[462,-546],	[487,-48],	[479,-89],
[485,-133],	[483,-177],	[482,-222],	[486,-264],	[484,-312],	[484,-349],	[486,-398],	[488,-445],	[484,-480],	[487,-525],
[481,-571],	[501,-26],	[508,-62],	[507,-109],	[506,-152],	[507,-197],	[504,-244],	[502,-290],	[510,-332],	[501,-377],
[510,-416],	[502,-462],	[503,-508],	[505,-553],	[533,-49],	[530,-88],	[528,-135],	[523,-173],	[529,-217],	[526,-265],
[531,-304],	[527,-357],	[525,-396],	[533,-442],	[532,-479],	[526,-524],	[527,-571],	[550,-26],	[546,-65],	[549,-112],
[553,-154],	[554,-198],	[554,-240],	[551,-283],	[550,-334],	[553,-374],	[551,-418],	[551,-462],	[546,-505],	[553,-551],
[572,-45],	[571,-84],	[568,-134],	[573,-175],	[572,-224],	[571,-269],	[569,-303],	[575,-354],	[573,-397],	[577,-440],
[568,-487],	[575,-527],	[568,-575],	[18,-198],	[19,-237],	[22,-290],	[21,-334],	[25,-372],	[22,-414],	[22,-466],
[26,-510],	[19,-550],	[48,-223],	[47,-259],	[46,-311],	[39,-347],	[46,-396],	[40,-438],	[45,-485],	[39,-527],
[49,-568],	[65,-198],	[68,-242],	[66,-286],	[70,-330],	[69,-377],	[68,-422],	[71,-462],	[70,-511],	[65,-547],
[86,-218],	[86,-267],	[92,-313],	[92,-349],	[92,-400],	[85,-438],	[92,-489],	[92,-530],	[84,-569],	[106,-197],
[107,-238],	[114,-284],	[108,-329],	[106,-374],	[115,-420],	[115,-466],	[108,-502],	[115,-555],	[129,-216],	[133,-264],
[129,-305],	[132,-348],	[130,-393],	[136,-442],	[136,-485],	[136,-528],	[132,-575],	[154,-198],	[151,-242],	[154,-291],
[158,-330],	[156,-376],	[155,-462],	[155,-510],	[150,-545],	[178,-220],	[179,-260],	[176,-307],	[173,-348],	[180,-398],
[181,-436],	[178,-484],	[179,-528],	[177,-570],	[42,-5],	[67,-5],	[158,-3],	[260,-4],	[347,-4],	[486,-1],
[567,-3],	[0,-19],	[0,-42],	[4,-89],	[2,-112],	[1,-154],	[0,-172],	[4,-306],	[1,-568]];

var GET_MAP_LIST_NPC_5ki_SW = [
//==========[ 南西砦 ]==========
[-20,-24],	[-21,-45],	[-27,-66],	[-19,-88],	[-19,-110],	[-20,-130],	[-20,-156],	[-20,-174],	[-47,-20],	[-45,-46],
[-49,-70],	[-44,-87],	[-41,-113],	[-42,-137],	[-41,-152],	[-43,-171],	[-66,-20],	[-64,-43],	[-64,-61],	[-61,-87],
[-64,-112],	[-63,-137],	[-68,-150],	[-71,-176],	[-85,-22],	[-93,-44],	[-85,-67],	[-83,-111],	[-92,-132],	[-85,-159],
[-86,-174],	[-109,-21],	[-114,-48],	[-107,-65],	[-111,-90],	[-114,-110],	[-112,-134],	[-113,-156],	[-109,-181],	[-128,-23],
[-131,-42],	[-133,-65],	[-127,-83],	[-132,-114],	[-137,-133],	[-132,-155],	[-133,-180],	[-157,-23],	[-149,-44],	[-156,-66],
[-149,-90],	[-150,-111],	[-159,-130],	[-150,-152],	[-154,-181],	[-181,-24],	[-175,-46],	[-181,-66],	[-174,-88],	[-175,-106],
[-172,-135],	[-178,-156],	[-176,-171],	[-198,-18],	[-202,-69],	[-200,-112],	[-197,-153],	[-198,-201],	[-193,-242],	[-195,-288],
[-193,-335],	[-201,-373],	[-199,-418],	[-195,-462],	[-198,-501],	[-194,-550],	[-222,-44],	[-220,-90],	[-221,-137],	[-218,-174],
[-216,-260],	[-215,-309],	[-220,-351],	[-225,-398],	[-222,-440],	[-225,-480],	[-222,-530],	[-218,-568],	[-245,-22],	[-245,-66],
[-239,-110],	[-239,-156],	[-247,-201],	[-242,-237],	[-240,-282],	[-242,-327],	[-245,-378],	[-238,-419],	[-245,-461],	[-239,-506],
[-247,-546],	[-261,-44],	[-262,-86],	[-265,-132],	[-261,-176],	[-264,-225],	[-261,-262],	[-259,-305],	[-268,-353],	[-261,-399],
[-266,-440],	[-263,-484],	[-268,-524],	[-267,-568],	[-287,-23],	[-291,-67],	[-282,-112],	[-286,-153],	[-291,-194],	[-286,-245],
[-281,-281],	[-283,-335],	[-283,-374],	[-281,-423],	[-291,-458],	[-290,-511],	[-288,-549],	[-311,-45],	[-303,-92],	[-313,-137],
[-311,-174],	[-308,-223],	[-308,-268],	[-312,-349],	[-313,-401],	[-306,-441],	[-305,-480],	[-309,-531],	[-306,-573],	[-332,-22],
[-330,-70],	[-327,-113],	[-335,-150],	[-331,-198],	[-330,-247],	[-335,-288],	[-325,-330],	[-330,-376],	[-326,-416],	[-327,-463],
[-331,-507],	[-332,-555],	[-349,-44],	[-356,-85],	[-357,-128],	[-351,-181],	[-349,-218],	[-349,-261],	[-350,-313],	[-351,-350],
[-349,-401],	[-355,-440],	[-353,-483],	[-349,-529],	[-352,-577],	[-374,-21],	[-376,-63],	[-374,-107],	[-371,-157],	[-378,-193],
[-370,-243],	[-373,-286],	[-369,-334],	[-375,-376],	[-369,-413],	[-369,-467],	[-374,-508],	[-371,-549],	[-391,-48],	[-395,-85],
[-401,-131],	[-394,-178],	[-393,-215],	[-393,-259],	[-391,-306],	[-393,-357],	[-395,-401],	[-396,-440],	[-393,-483],	[-400,-531],
[-395,-568],	[-418,-17],	[-417,-62],	[-416,-115],	[-415,-202],	[-413,-243],	[-413,-285],	[-418,-334],	[-413,-377],	[-418,-458],
[-422,-504],	[-419,-555],	[-441,-45],	[-442,-91],	[-445,-137],	[-436,-172],	[-440,-215],	[-436,-262],	[-440,-308],	[-442,-352],
[-438,-392],	[-440,-443],	[-441,-489],	[-436,-524],	[-435,-571],	[-462,-18],	[-462,-65],	[-465,-114],	[-457,-156],	[-466,-198],
[-457,-238],	[-463,-286],	[-457,-330],	[-467,-374],	[-458,-418],	[-461,-462],	[-464,-503],	[-462,-554],	[-486,-44],	[-481,-89],
[-486,-130],	[-487,-177],	[-487,-222],	[-482,-262],	[-482,-312],	[-481,-349],	[-484,-400],	[-482,-435],	[-480,-483],	[-484,-528],
[-483,-574],	[-501,-26],	[-506,-66],	[-502,-113],	[-503,-155],	[-502,-198],	[-505,-240],	[-508,-290],	[-503,-330],	[-502,-373],
[-508,-418],	[-506,-465],	[-507,-509],	[-509,-546],	[-525,-46],	[-528,-88],	[-523,-133],	[-531,-180],	[-529,-223],	[-533,-269],
[-528,-308],	[-533,-353],	[-523,-394],	[-528,-444],	[-528,-482],	[-533,-531],	[-523,-568],	[-554,-19],	[-549,-61],	[-551,-111],
[-545,-159],	[-552,-196],	[-545,-238],	[-546,-287],	[-547,-328],	[-550,-369],	[-547,-415],	[-553,-460],	[-554,-501],	[-555,-553],
[-574,-48],	[-569,-88],	[-575,-129],	[-568,-176],	[-573,-215],	[-570,-268],	[-573,-304],	[-568,-352],	[-575,-400],	[-571,-436],
[-575,-486],	[-574,-532],	[-577,-569],	[-23,-199],	[-25,-239],	[-26,-286],	[-26,-326],	[-21,-369],	[-27,-418],	[-22,-464],
[-17,-503],	[-20,-552],	[-46,-222],	[-44,-266],	[-42,-303],	[-40,-355],	[-46,-393],	[-39,-442],	[-45,-487],	[-41,-531],
[-45,-576],	[-71,-193],	[-66,-244],	[-63,-285],	[-62,-327],	[-71,-378],	[-71,-422],	[-68,-465],	[-70,-504],	[-64,-545],
[-88,-221],	[-85,-260],	[-93,-308],	[-87,-348],	[-85,-398],	[-85,-443],	[-87,-486],	[-90,-532],	[-93,-572],	[-112,-195],
[-108,-240],	[-110,-284],	[-111,-326],	[-110,-372],	[-107,-418],	[-108,-459],	[-115,-506],	[-109,-548],	[-127,-218],	[-132,-261],
[-137,-304],	[-136,-355],	[-137,-395],	[-136,-443],	[-129,-489],	[-128,-532],	[-134,-571],	[-153,-200],	[-159,-242],	[-156,-282],
[-156,-335],	[-151,-375],	[-149,-462],	[-152,-501],	[-150,-549],	[-173,-224],	[-181,-261],	[-177,-305],	[-175,-352],	[-176,-393],
[-179,-444],	[-171,-481],	[-180,-525],	[-180,-568],	[-85,-4],	[-158,-3],	[-307,-4],	[-351,-5],	[-398,-5],	[-527,-2],
[-573,-2],	[-5,-71],	[-2,-132],	[-3,-261],	[-3,-352],	[-4,-400],	[-1,-436],	[-1,-482],	[-4,-531]
];

var GET_MAP_LIST_BUSHO_10ki = [
//==========[ 武将砦/城 ]==========
[0,0],
[-220,220],	[220,220],	[-220,-220],	[220,-220],
[-456,0],	[456,0],	[-186,72],	[0,300],
[186,72],	[-186,-72],	[0,-300],	[186,-72],
[-432,432],	[-72,186],	[72,186],	[432,432],
[-432,156],	[432,156],	[-432,-156],	[432,-156],
[-432,-432],	[-72,-186],	[72,-186],	[432,-432],
[-162,432],	[162,432],	[156,-432],	[-156,-432]
];

var GET_MAP_LIST_NPC_10ki_NE = [
//==========[ 北東砦 ]==========
[25,22],	[18,44],	[22,62],	[24,90],	[21,111],	[24,133],	[18,157],	[20,177],	[43,18],	[42,42],
[47,70],	[45,88],	[44,109],	[48,129],	[43,155],	[43,172],	[65,18],	[70,47],	[68,70],	[69,84],
[70,109],	[70,131],	[70,153],	[87,23],	[92,45],	[91,62],	[91,89],	[87,111],	[92,128],	[91,155],
[92,179],	[111,20],	[110,42],	[114,68],	[107,88],	[107,109],	[112,128],	[106,158],	[109,173],	[136,24],
[132,41],	[130,66],	[136,92],	[128,112],	[136,134],	[136,156],	[128,173],	[155,24],	[153,40],	[158,65],
[158,89],	[151,110],	[158,132],	[157,156],	[153,175],	[177,20],	[179,42],	[175,92],	[172,107],	[179,132],
[175,152],	[174,180],	[19,198],	[19,242],	[20,288],	[19,330],	[21,377],	[18,416],	[24,466],	[19,505],
[26,550],	[48,218],	[47,267],	[40,305],	[46,351],	[48,392],	[42,443],	[47,480],	[43,528],	[44,575],
[70,243],	[68,283],	[65,331],	[64,377],	[70,422],	[67,464],	[68,509],	[63,549],	[89,216],	[86,260],
[85,310],	[85,355],	[89,396],	[91,439],	[85,483],	[85,529],	[86,568],	[114,195],	[109,244],	[113,285],
[107,326],	[112,371],	[113,415],	[111,460],	[107,505],	[111,552],	[136,224],	[129,264],	[135,306],	[131,355],
[134,395],	[135,436],	[134,487],	[130,528],	[128,572],	[158,198],	[158,244],	[154,282],	[150,327],	[154,371],
[151,461],	[158,509],	[150,551],	[180,223],	[178,265],	[180,312],	[180,356],	[177,393],	[173,484],	[178,527],
[174,574],	[199,24],	[196,112],	[202,153],	[200,202],	[197,240],	[196,286],	[200,331],	[196,372],	[194,419],
[198,464],	[200,504],	[202,550],	[222,47],	[220,88],	[218,130],	[224,177],	[224,262],	[224,304],	[216,356],
[217,393],	[224,438],	[219,484],	[220,526],	[223,573],	[242,18],	[244,63],	[246,113],	[242,150],	[246,196],
[239,246],	[244,283],	[240,327],	[238,371],	[245,415],	[240,460],	[242,506],	[239,553],	[268,44],	[260,85],
[267,129],	[263,180],	[264,222],	[265,268],	[266,308],	[260,355],	[260,395],	[268,436],	[265,483],	[263,525],
[261,571],	[284,24],	[289,68],	[283,110],	[290,151],	[284,195],	[288,246],	[286,283],	[287,326],	[287,371],
[285,420],	[287,458],	[286,509],	[283,546],	[305,41],	[312,90],	[307,132],	[310,178],	[308,222],	[305,264],
[308,311],	[306,348],	[305,394],	[310,443],	[307,488],	[307,529],	[308,573],	[332,24],	[331,64],	[333,108],
[332,151],	[334,201],	[333,244],	[330,289],	[327,326],	[329,371],	[329,419],	[329,466],	[328,504],	[331,552],
[350,41],	[355,91],	[350,131],	[351,173],	[355,223],	[353,263],	[356,310],	[350,355],	[353,392],	[350,439],
[353,482],	[352,525],	[350,572],	[374,21],	[371,67],	[375,114],	[370,154],	[372,199],	[374,241],	[376,283],
[372,332],	[377,371],	[378,421],	[373,464],	[371,504],	[371,551],	[398,48],	[393,90],	[396,133],	[398,172],
[396,222],	[396,261],	[394,304],	[397,348],	[393,398],	[392,440],	[397,485],	[392,527],	[393,569],	[415,25],
[414,62],	[414,110],	[415,198],	[416,242],	[417,288],	[419,333],	[415,374],	[416,461],	[417,504],	[416,552],
[442,40],	[442,92],	[437,136],	[437,179],	[440,218],	[444,266],	[440,312],	[437,350],	[440,396],	[439,484],
[438,529],	[442,576],	[465,24],	[462,70],	[458,110],	[459,150],	[462,196],	[458,241],	[465,286],	[458,329],
[464,371],	[461,418],	[460,465],	[459,504],	[459,553],	[488,42],	[488,87],	[487,134],	[486,180],	[481,223],
[481,268],	[487,309],	[488,351],	[483,395],	[483,440],	[482,487],	[482,524],	[481,570],	[504,25],	[506,69],
[509,113],	[503,153],	[508,198],	[506,244],	[508,290],	[503,326],	[505,374],	[502,419],	[506,463],	[507,503],
[506,549],	[531,43],	[524,89],	[528,134],	[529,176],	[531,216],	[531,263],	[525,311],	[531,348],	[526,394],
[526,439],	[524,487],	[525,526],	[524,575],	[548,22],	[550,69],	[550,106],	[553,154],	[550,199],	[548,241],
[546,288],	[551,333],	[553,371],	[549,414],	[546,464],	[551,509],	[552,549],	[570,48],	[570,92],	[572,134],
[574,175],	[570,222],	[568,267],	[568,312],	[574,351],	[575,393],	[571,440],	[575,483],	[570,524],	[569,570],
[106,2],	[133,1],	[155,0],	[1,48],	[4,63],	[1,108],	[1,128],	[2,150],	[2,174],	[223,1],
[268,4],	[349,3],	[398,1],	[439,4],	[3,218],	[3,261],	[3,395],	[4,483],	[3,528],	[2,574]
];

var GET_MAP_LIST_NPC_10ki_NW = [
//==========[ 北西砦 ]==========
[-1,25],	[-1,89],	[-4,353],	[-1,443],	[-20,19],	[-25,45],	[-18,63],	[-26,88],	[-26,111],	[-23,130],
[-23,157],	[-22,172],	[-46,26],	[-43,41],	[-44,66],	[-42,92],	[-48,113],	[-40,131],	[-40,154],	[-48,179],
[-63,20],	[-63,41],	[-63,70],	[-67,85],	[-66,106],	[-69,129],	[-64,158],	[-84,20],	[-86,43],	[-90,65],
[-91,88],	[-90,114],	[-88,133],	[-86,158],	[-92,180],	[-113,25],	[-106,42],	[-113,62],	[-109,89],	[-108,111],
[-106,130],	[-108,150],	[-113,176],	[-129,24],	[-130,46],	[-134,62],	[-136,87],	[-134,108],	[-131,136],	[-133,154],
[-131,175],	[-158,24],	[-154,45],	[-157,62],	[-156,89],	[-156,109],	[-156,134],	[-151,153],	[-151,176],	[-178,25],
[-173,48],	[-172,89],	[-180,109],	[-176,130],	[-173,155],	[-172,175],	[-25,194],	[-21,240],	[-19,287],	[-26,334],
[-21,378],	[-20,422],	[-26,466],	[-20,507],	[-21,550],	[-41,222],	[-47,265],	[-45,305],	[-45,355],	[-42,400],
[-44,437],	[-47,484],	[-47,529],	[-47,574],	[-69,246],	[-62,285],	[-63,330],	[-64,374],	[-70,417],	[-65,461],
[-62,503],	[-64,552],	[-92,223],	[-90,265],	[-85,305],	[-87,352],	[-87,392],	[-86,441],	[-92,485],	[-91,530],
[-87,574],	[-111,200],	[-111,246],	[-108,285],	[-110,332],	[-114,373],	[-113,417],	[-109,464],	[-113,510],	[-106,548],
[-129,220],	[-130,268],	[-135,312],	[-136,356],	[-133,400],	[-132,442],	[-134,482],	[-132,528],	[-130,572],	[-154,200],
[-150,244],	[-152,290],	[-158,329],	[-152,373],	[-152,464],	[-158,503],	[-156,547],	[-175,216],	[-173,262],	[-172,307],
[-172,354],	[-176,398],	[-175,488],	[-173,532],	[-173,572],	[-194,26],	[-197,110],	[-200,155],	[-197,195],	[-195,239],
[-194,286],	[-194,326],	[-199,376],	[-198,417],	[-194,458],	[-200,505],	[-197,548],	[-220,43],	[-224,88],	[-219,132],
[-224,173],	[-222,261],	[-219,311],	[-224,349],	[-220,393],	[-218,443],	[-223,482],	[-220,524],	[-222,576],	[-245,19],
[-245,70],	[-241,112],	[-244,157],	[-240,202],	[-239,244],	[-245,288],	[-238,329],	[-245,370],	[-245,422],	[-244,466],
[-240,506],	[-238,550],	[-260,48],	[-264,84],	[-266,132],	[-263,172],	[-262,219],	[-261,261],	[-263,309],	[-264,351],
[-264,396],	[-265,440],	[-264,482],	[-266,527],	[-264,573],	[-286,25],	[-285,63],	[-289,111],	[-285,153],	[-287,200],
[-285,238],	[-285,290],	[-285,326],	[-288,374],	[-290,416],	[-285,463],	[-287,505],	[-288,550],	[-311,40],	[-312,91],
[-305,128],	[-305,176],	[-309,222],	[-306,263],	[-309,309],	[-311,353],	[-309,398],	[-305,443],	[-304,481],	[-305,528],
[-311,570],	[-332,19],	[-329,63],	[-331,111],	[-328,151],	[-327,197],	[-326,246],	[-334,283],	[-331,332],	[-330,376],
[-329,420],	[-332,460],	[-330,509],	[-332,553],	[-349,44],	[-352,84],	[-354,132],	[-351,178],	[-348,223],	[-349,268],
[-356,311],	[-350,349],	[-356,400],	[-353,441],	[-353,482],	[-353,532],	[-353,574],	[-371,18],	[-375,62],	[-376,113],
[-373,150],	[-374,197],	[-371,238],	[-376,290],	[-377,331],	[-374,377],	[-374,415],	[-377,460],	[-371,502],	[-373,554],
[-395,48],	[-399,85],	[-398,135],	[-392,179],	[-399,222],	[-400,260],	[-399,306],	[-392,351],	[-394,399],	[-398,444],
[-397,480],	[-392,530],	[-398,569],	[-421,19],	[-419,70],	[-417,108],	[-416,194],	[-422,246],	[-421,287],	[-417,331],
[-419,374],	[-421,458],	[-419,502],	[-420,554],	[-441,43],	[-444,89],	[-444,129],	[-439,177],	[-442,219],	[-439,262],
[-436,311],	[-438,351],	[-443,394],	[-436,486],	[-443,528],	[-444,571],	[-459,21],	[-459,66],	[-462,107],	[-462,151],
[-465,199],	[-460,244],	[-461,288],	[-466,327],	[-462,376],	[-463,422],	[-458,464],	[-462,509],	[-460,548],	[-484,44],
[-487,90],	[-480,135],	[-483,176],	[-484,222],	[-484,260],	[-487,311],	[-480,350],	[-484,398],	[-485,437],	[-487,487],
[-480,526],	[-488,568],	[-505,21],	[-503,65],	[-502,107],	[-504,152],	[-510,201],	[-504,239],	[-504,288],	[-503,328],
[-507,375],	[-504,415],	[-510,459],	[-507,506],	[-503,551],	[-524,47],	[-527,88],	[-532,128],	[-528,177],	[-524,219],
[-525,263],	[-526,305],	[-525,349],	[-526,396],	[-527,439],	[-529,485],	[-527,528],	[-524,568],	[-552,23],	[-551,67],
[-553,112],	[-547,152],	[-548,202],	[-549,242],	[-552,282],	[-548,326],	[-552,376],	[-551,417],	[-551,465],	[-549,504],
[-552,551],	[-575,45],	[-572,89],	[-575,135],	[-573,173],	[-572,221],	[-574,263],	[-573,308],	[-572,349],	[-573,396],
[-575,441],	[-569,482],	[-570,529],	[-573,569],	[-25,2],	[-65,2],	[-90,4],	[-110,1],	[-158,3],	[-268,4],
[-310,4],	[-395,2],	[-531,1]];

var GET_MAP_LIST_NPC_10ki_SE = [
//==========[ 南東砦 ]==========
[24,-3],	[48,-3],	[70,-1],	[89,-1],	[175,-1],	[310,-2],	[485,-4],	[527,-3],	[570,-4],	[22,-22],
[20,-40],	[22,-68],	[18,-92],	[24,-110],	[18,-134],	[22,-156],	[23,-172],	[42,-24],	[45,-46],	[44,-65],
[47,-89],	[45,-110],	[40,-134],	[42,-153],	[48,-178],	[67,-24],	[69,-45],	[65,-70],	[66,-84],	[63,-112],
[66,-131],	[66,-151],	[89,-20],	[91,-46],	[84,-68],	[91,-84],	[90,-110],	[90,-132],	[92,-157],	[92,-173],
[106,-19],	[114,-44],	[106,-68],	[108,-92],	[108,-107],	[109,-129],	[110,-156],	[107,-177],	[133,-23],	[130,-44],
[130,-68],	[133,-87],	[136,-111],	[128,-129],	[132,-157],	[128,-175],	[151,-24],	[155,-40],	[151,-62],	[150,-89],
[154,-110],	[153,-135],	[152,-152],	[158,-173],	[179,-18],	[178,-44],	[173,-91],	[176,-112],	[173,-128],	[173,-151],
[174,-174],	[24,-200],	[24,-244],	[24,-288],	[26,-329],	[25,-370],	[23,-419],	[21,-460],	[18,-507],	[19,-548],
[48,-218],	[45,-264],	[46,-310],	[48,-348],	[41,-393],	[45,-438],	[46,-486],	[40,-531],	[41,-574],	[68,-242],
[70,-290],	[69,-327],	[63,-370],	[65,-415],	[70,-459],	[63,-503],	[68,-551],	[85,-224],	[90,-264],	[91,-308],
[89,-352],	[86,-396],	[91,-440],	[92,-483],	[90,-531],	[90,-570],	[109,-200],	[107,-246],	[109,-285],	[114,-331],
[110,-375],	[108,-417],	[113,-462],	[107,-505],	[109,-554],	[131,-221],	[132,-263],	[132,-309],	[130,-355],	[132,-392],
[135,-437],	[135,-480],	[133,-525],	[130,-572],	[157,-200],	[156,-244],	[153,-290],	[156,-334],	[153,-373],	[151,-461],
[154,-506],	[153,-554],	[173,-219],	[174,-265],	[172,-310],	[177,-353],	[177,-400],	[176,-436],	[178,-481],	[180,-525],
[175,-573],	[202,-20],	[200,-111],	[202,-157],	[202,-194],	[202,-242],	[201,-287],	[195,-329],	[194,-370],	[196,-418],
[199,-460],	[196,-509],	[199,-547],	[224,-42],	[224,-90],	[217,-130],	[223,-175],	[217,-261],	[219,-306],	[218,-356],
[220,-400],	[219,-439],	[220,-481],	[220,-529],	[222,-575],	[246,-24],	[244,-65],	[238,-108],	[246,-155],	[242,-199],
[245,-246],	[243,-284],	[238,-333],	[246,-378],	[242,-421],	[241,-459],	[244,-504],	[244,-546],	[263,-40],	[262,-84],
[262,-135],	[265,-178],	[266,-217],	[260,-266],	[261,-308],	[268,-356],	[266,-394],	[268,-436],	[262,-481],	[260,-524],
[266,-576],	[283,-18],	[287,-65],	[290,-112],	[282,-150],	[289,-197],	[288,-245],	[288,-286],	[289,-328],	[283,-378],
[282,-418],	[284,-459],	[284,-504],	[288,-547],	[305,-48],	[312,-92],	[307,-131],	[310,-172],	[311,-224],	[310,-266],
[304,-305],	[306,-356],	[305,-398],	[309,-437],	[306,-485],	[310,-526],	[305,-572],	[333,-23],	[329,-62],	[328,-113],
[329,-150],	[329,-202],	[331,-241],	[331,-282],	[330,-332],	[326,-378],	[326,-418],	[327,-463],	[331,-503],	[326,-552],
[348,-40],	[352,-92],	[356,-132],	[356,-176],	[354,-221],	[348,-262],	[354,-308],	[353,-355],	[353,-397],	[356,-438],
[356,-481],	[349,-526],	[351,-576],	[375,-23],	[375,-64],	[374,-113],	[370,-151],	[371,-198],	[375,-245],	[377,-290],
[373,-333],	[376,-370],	[370,-421],	[377,-465],	[372,-509],	[372,-547],	[397,-42],	[395,-91],	[395,-135],	[396,-174],
[397,-224],	[392,-265],	[396,-307],	[400,-352],	[392,-396],	[394,-436],	[392,-480],	[393,-531],	[398,-572],	[416,-19],
[417,-66],	[422,-112],	[414,-202],	[416,-240],	[419,-286],	[419,-327],	[420,-376],	[417,-460],	[418,-510],	[418,-553],
[442,-42],	[436,-86],	[444,-132],	[441,-176],	[437,-224],	[444,-267],	[443,-312],	[437,-348],	[443,-392],	[442,-484],
[442,-524],	[443,-570],	[463,-20],	[461,-64],	[460,-110],	[466,-158],	[462,-196],	[462,-244],	[459,-287],	[459,-333],
[462,-376],	[465,-420],	[465,-458],	[463,-509],	[463,-554],	[480,-46],	[488,-90],	[482,-130],	[488,-176],	[487,-223],
[485,-266],	[484,-305],	[484,-353],	[481,-396],	[481,-441],	[486,-483],	[483,-524],	[484,-570],	[502,-24],	[506,-69],
[502,-107],	[505,-157],	[509,-202],	[510,-245],	[503,-290],	[507,-332],	[505,-376],	[506,-422],	[507,-460],	[503,-509],
[504,-546],	[532,-46],	[525,-85],	[526,-128],	[524,-177],	[531,-218],	[530,-260],	[525,-307],	[531,-353],	[525,-395],
[529,-436],	[524,-482],	[527,-529],	[524,-570],	[546,-21],	[546,-65],	[552,-106],	[546,-158],	[549,-196],	[553,-238],
[546,-287],	[549,-328],	[551,-376],	[552,-421],	[551,-459],	[551,-509],	[547,-546],	[568,-42],	[570,-86],	[576,-131],
[573,-176],	[568,-222],	[571,-263],	[569,-304],	[569,-349],	[570,-394],	[575,-436],	[572,-486],	[572,-529],	[572,-572],
[1,-129],	[2,-152],	[3,-222],	[4,-400],	[1,-573]
];

var GET_MAP_LIST_NPC_10ki_SW = [
//==========[ 南西砦 ]==========
[-20,-22],	[-18,-43],	[-25,-67],	[-19,-86],	[-24,-108],	[-23,-132],	[-19,-153],	[-18,-180],	[-41,-22],	[-47,-46],
[-45,-66],	[-44,-90],	[-46,-113],	[-46,-129],	[-45,-150],	[-48,-178],	[-70,-20],	[-69,-41],	[-66,-64],	[-70,-88],
[-69,-112],	[-70,-134],	[-62,-151],	[-92,-21],	[-89,-44],	[-92,-68],	[-86,-84],	[-85,-106],	[-91,-129],	[-88,-151],
[-89,-173],	[-107,-19],	[-106,-40],	[-113,-66],	[-114,-84],	[-110,-108],	[-111,-133],	[-110,-153],	[-107,-172],	[-136,-23],
[-131,-47],	[-129,-64],	[-132,-90],	[-130,-112],	[-134,-131],	[-129,-151],	[-134,-178],	[-156,-26],	[-150,-44],	[-157,-67],
[-153,-88],	[-155,-109],	[-150,-131],	[-152,-157],	[-153,-172],	[-172,-21],	[-173,-41],	[-176,-92],	[-178,-110],	[-178,-133],
[-177,-157],	[-172,-173],	[-22,-197],	[-24,-244],	[-21,-289],	[-25,-326],	[-21,-375],	[-22,-415],	[-26,-464],	[-24,-507],
[-18,-550],	[-42,-223],	[-43,-268],	[-47,-305],	[-48,-354],	[-42,-396],	[-45,-440],	[-43,-480],	[-40,-525],	[-44,-570],
[-65,-243],	[-66,-288],	[-67,-333],	[-64,-370],	[-68,-420],	[-65,-463],	[-68,-503],	[-64,-546],	[-84,-222],	[-88,-261],
[-89,-311],	[-87,-351],	[-85,-396],	[-86,-438],	[-91,-487],	[-88,-528],	[-88,-569],	[-108,-195],	[-112,-245],	[-114,-289],
[-109,-331],	[-107,-377],	[-112,-417],	[-108,-463],	[-111,-510],	[-109,-554],	[-135,-224],	[-133,-265],	[-128,-308],	[-129,-351],
[-129,-399],	[-132,-440],	[-130,-487],	[-132,-530],	[-128,-568],	[-158,-194],	[-153,-240],	[-152,-286],	[-152,-326],	[-155,-376],
[-156,-458],	[-152,-510],	[-152,-548],	[-179,-220],	[-178,-263],	[-174,-310],	[-177,-349],	[-178,-399],	[-180,-443],	[-174,-488],
[-172,-528],	[-177,-568],	[-198,-23],	[-201,-110],	[-196,-151],	[-197,-202],	[-201,-238],	[-196,-284],	[-198,-326],	[-194,-371],
[-199,-421],	[-200,-463],	[-199,-510],	[-200,-550],	[-216,-44],	[-224,-84],	[-218,-136],	[-217,-175],	[-222,-267],	[-219,-304],
[-216,-354],	[-216,-399],	[-218,-439],	[-219,-481],	[-216,-526],	[-220,-572],	[-245,-22],	[-242,-63],	[-242,-106],	[-244,-157],
[-244,-196],	[-240,-239],	[-246,-288],	[-242,-334],	[-239,-375],	[-245,-421],	[-239,-461],	[-246,-506],	[-241,-550],	[-261,-41],
[-260,-92],	[-264,-135],	[-262,-180],	[-268,-218],	[-262,-265],	[-268,-309],	[-263,-350],	[-266,-397],	[-264,-440],	[-267,-488],
[-261,-528],	[-263,-573],	[-284,-23],	[-283,-66],	[-283,-106],	[-288,-150],	[-285,-199],	[-288,-246],	[-285,-287],	[-283,-327],
[-290,-375],	[-288,-415],	[-288,-466],	[-286,-506],	[-285,-548],	[-310,-45],	[-304,-86],	[-306,-129],	[-309,-180],	[-310,-219],
[-310,-260],	[-312,-312],	[-306,-349],	[-309,-395],	[-307,-442],	[-309,-487],	[-308,-526],	[-305,-574],	[-333,-22],	[-330,-63],
[-330,-113],	[-333,-153],	[-334,-196],	[-334,-244],	[-332,-289],	[-334,-328],	[-333,-373],	[-334,-414],	[-331,-462],	[-333,-503],
[-327,-550],	[-349,-43],	[-348,-86],	[-355,-131],	[-351,-179],	[-348,-224],	[-356,-261],	[-354,-312],	[-356,-348],	[-356,-393],
[-355,-444],	[-349,-488],	[-355,-531],	[-352,-573],	[-375,-21],	[-372,-69],	[-377,-108],	[-378,-151],	[-376,-194],	[-370,-243],
[-377,-289],	[-377,-332],	[-374,-375],	[-375,-422],	[-375,-462],	[-372,-503],	[-377,-554],	[-398,-42],	[-393,-91],	[-400,-130],
[-399,-179],	[-392,-222],	[-397,-267],	[-400,-305],	[-394,-354],	[-394,-392],	[-396,-437],	[-396,-486],	[-395,-528],	[-400,-574],
[-417,-22],	[-416,-68],	[-418,-112],	[-422,-202],	[-414,-243],	[-416,-285],	[-421,-333],	[-418,-370],	[-418,-460],	[-415,-510],
[-418,-553],	[-436,-47],	[-442,-85],	[-442,-131],	[-438,-177],	[-437,-217],	[-442,-265],	[-436,-304],	[-436,-350],	[-439,-394],
[-437,-483],	[-440,-524],	[-443,-574],	[-461,-18],	[-466,-67],	[-464,-114],	[-465,-158],	[-458,-199],	[-463,-243],	[-463,-282],
[-463,-333],	[-466,-377],	[-458,-416],	[-463,-466],	[-461,-509],	[-465,-552],	[-482,-44],	[-480,-88],	[-485,-132],	[-480,-173],
[-481,-220],	[-482,-262],	[-482,-304],	[-485,-354],	[-480,-399],	[-483,-441],	[-487,-487],	[-480,-527],	[-481,-575],	[-506,-21],
[-503,-68],	[-507,-107],	[-510,-158],	[-508,-194],	[-503,-240],	[-506,-290],	[-502,-326],	[-508,-370],	[-508,-417],	[-502,-462],
[-505,-504],	[-506,-554],	[-527,-45],	[-527,-84],	[-529,-130],	[-528,-179],	[-525,-218],	[-525,-262],	[-529,-311],	[-527,-350],
[-525,-400],	[-528,-442],	[-529,-488],	[-532,-526],	[-528,-576],	[-554,-25],	[-549,-68],	[-547,-108],	[-554,-156],	[-551,-196],
[-554,-238],	[-554,-289],	[-547,-331],	[-549,-378],	[-547,-415],	[-553,-459],	[-553,-507],	[-546,-552],	[-568,-47],	[-568,-84],
[-573,-130],	[-568,-175],	[-573,-218],	[-569,-268],	[-573,-311],	[-569,-352],	[-572,-394],	[-571,-440],	[-570,-482],	[-572,-528],
[-569,-572],	[-44,-2],	[-130,-3],	[-180,-1],	[-1,-18],	[-4,-42],	[-2,-65],	[-2,-88],	[-2,-114],	[0,-172],
[-223,-4],	[-355,0],	[-438,-3],	[-484,-4],	[-575,-1],	[0,-267],	[0,-355],	[-2,-440],	[-1,-486],	[-1,-527]
];

var GET_MAP_LIST_BUSHO_14ki = [
//==========[ 武将砦/城 ]==========
[156,-432],[432,-432],
[0,-300],[-220,-220],[220,-220],[-432,-156],[-72,-186],[432,-156],
[-186,-72],[186,-72],[-456,0],[0,0],[456,0],[-186,72],
[186,72],[-432,156],[432,156],[-72,186],[72,186],[-220,220],
[220,220],[0,300],[-432,432],[-162,432],[162,432],[432,432]
];

var GET_MAP_LIST_NPC_14ki_NE = [
//==========[ 北東砦 ]==========
[65,4],[47,1],
[89,3],[114,0],[151,0],[172,1],[221,4],[308,3],[354,0],[399,4],[440,3],[480,3],[571,3],
[616,1],[662,2],[752,2],[0,65],[1,42],[19,66],[41,64],[45,43],[18,40],[41,19],[18,18],
[64,18],[91,66],[112,48],[87,45],[68,40],[113,22],[91,21],[153,62],[150,46],[131,45],[128,22],
[150,20],[176,45],[200,26],[179,19],[241,64],[224,41],[268,40],[246,22],[289,66],[308,44],[283,23],
[349,47],[334,26],[421,64],[394,40],[378,24],[421,23],[441,43],[461,23],[509,64],[487,42],[503,25],
[548,63],[574,44],[531,43],[547,18],[618,46],[594,21],[664,41],[634,25],[680,62],[702,45],[722,21],
[684,20],[766,66],[747,44],[769,26],[3,89],[24,109],[43,107],[20,88],[42,87],[63,85],[64,70],
[67,111],[86,111],[109,109],[109,92],[90,87],[111,70],[130,108],[152,108],[156,92],[130,91],[134,68],
[198,113],[174,107],[179,84],[245,106],[223,88],[260,88],[290,114],[310,90],[328,107],[352,85],[328,70],
[373,111],[414,107],[400,91],[374,69],[464,111],[436,87],[462,70],[509,108],[480,90],[554,108],[527,91],
[571,85],[591,107],[619,89],[593,69],[637,113],[662,88],[634,69],[684,114],[722,114],[705,84],[725,67],
[767,113],[745,84],[4,150],[47,155],[20,152],[62,135],[25,132],[40,129],[107,152],[87,151],[70,150],
[85,130],[106,128],[158,158],[131,150],[129,136],[157,130],[200,158],[173,150],[176,132],[218,129],[244,153],
[266,130],[290,155],[312,131],[330,158],[371,151],[355,129],[394,136],[461,158],[443,134],[508,150],[486,131],
[548,151],[530,136],[568,129],[595,157],[616,131],[640,152],[658,128],[682,157],[729,151],[707,135],[770,152],
[750,136],[1,173],[20,201],[46,177],[24,175],[106,196],[112,176],[87,173],[152,197],[130,180],[154,179],
[172,216],[199,198],[176,180],[265,216],[240,200],[267,179],[221,175],[311,219],[289,202],[309,175],[331,202],
[349,180],[375,201],[415,194],[394,176],[466,200],[439,174],[480,218],[524,218],[508,196],[487,177],[524,173],
[552,201],[575,175],[595,200],[620,172],[657,216],[639,195],[656,175],[706,218],[684,201],[729,195],[707,172],
[773,194],[751,175],[0,268],[45,266],[20,244],[65,239],[44,222],[86,267],[110,240],[92,220],[135,264],
[152,246],[133,222],[217,265],[178,261],[197,243],[266,265],[244,240],[304,263],[282,241],[349,262],[327,242],
[356,220],[396,260],[373,245],[414,241],[397,223],[441,268],[462,246],[440,221],[525,267],[481,265],[503,244],
[571,265],[551,241],[574,222],[619,264],[591,244],[618,224],[657,262],[640,240],[702,263],[682,243],[729,243],
[752,261],[771,238],[752,224],[44,304],[62,288],[20,286],[88,310],[110,286],[136,304],[154,283],[178,311],
[194,287],[264,309],[223,307],[239,285],[306,312],[286,287],[351,305],[329,285],[400,311],[414,285],[374,284],
[438,310],[462,288],[488,308],[525,306],[502,289],[574,311],[549,283],[620,310],[597,288],[657,308],[637,284],
[702,308],[686,283],[723,283],[746,304],[769,284],[4,350],[20,371],[40,349],[63,331],[22,330],[90,350],
[107,332],[128,350],[150,330],[198,372],[172,356],[201,333],[239,371],[221,352],[260,350],[245,331],[283,371],
[304,353],[290,327],[351,356],[327,328],[377,370],[420,370],[394,352],[422,333],[373,332],[464,372],[444,352],
[462,330],[484,351],[503,331],[527,351],[571,351],[549,326],[618,350],[596,326],[657,350],[639,332],[729,370],
[704,351],[679,327],[724,326],[774,372],[748,351],[770,329],[23,418],[66,417],[43,399],[110,414],[86,396],
[67,374],[112,373],[133,394],[158,374],[194,417],[218,397],[173,396],[244,417],[263,394],[288,417],[312,398],
[328,419],[354,395],[333,377],[377,420],[399,396],[462,421],[436,398],[507,417],[487,397],[524,394],[506,375],
[550,417],[575,399],[550,373],[591,419],[614,393],[593,378],[678,416],[634,414],[660,397],[640,376],[729,417],
[703,395],[679,378],[772,420],[752,399],[66,461],[21,460],[40,437],[114,461],[92,444],[152,460],[135,439],
[201,458],[242,463],[224,443],[266,436],[286,463],[310,443],[330,458],[355,438],[420,462],[373,460],[392,443],
[461,459],[509,459],[484,436],[547,462],[527,441],[576,440],[592,465],[620,443],[640,462],[661,443],[683,463],
[723,461],[703,443],[766,464],[746,443],[1,487],[44,524],[24,502],[43,483],[70,509],[112,508],[91,485],
[158,507],[135,481],[178,524],[202,502],[174,487],[218,480],[223,525],[243,505],[261,487],[283,510],[305,488],
[356,525],[370,510],[326,503],[350,483],[414,502],[399,486],[440,524],[464,505],[438,487],[525,525],[508,510],
[488,485],[549,509],[576,487],[526,484],[597,506],[614,487],[664,525],[637,508],[660,481],[683,507],[726,502],
[701,485],[771,508],[747,486],[41,575],[21,546],[86,570],[109,551],[67,549],[84,531],[130,573],[154,550],
[129,526],[178,574],[218,573],[198,549],[265,568],[241,547],[261,529],[312,568],[284,546],[304,531],[350,570],
[332,547],[392,572],[377,553],[417,551],[396,527],[444,574],[464,549],[524,573],[483,572],[510,547],[481,527],
[573,571],[551,551],[572,532],[612,576],[595,547],[612,531],[660,571],[641,552],[703,571],[684,553],[722,551],
[705,531],[745,576],[767,552],[750,532],[1,614],[42,617],[63,598],[22,590],[91,619],[108,593],[128,617],
[153,595],[176,614],[202,594],[222,620],[262,619],[238,592],[312,620],[287,598],[350,619],[327,594],[372,590],
[396,620],[418,595],[440,615],[465,596],[480,619],[504,596],[569,617],[526,616],[551,590],[612,619],[594,598],
[663,618],[636,594],[708,612],[729,598],[683,592],[752,619],[774,593],[2,657],[43,661],[24,642],[62,634],
[87,662],[110,638],[135,658],[156,638],[179,661],[197,640],[265,664],[221,663],[240,638],[307,660],[285,635],
[353,664],[372,641],[328,634],[394,664],[415,634],[444,657],[466,635],[487,656],[504,635],[528,663],[568,657],
[552,634],[613,661],[596,634],[660,662],[639,640],[678,635],[702,658],[723,639],[744,657],[773,638],[4,701],
[64,728],[22,727],[42,702],[19,681],[112,722],[84,707],[112,682],[69,679],[133,700],[155,684],[201,724],
[174,700],[199,682],[245,725],[220,702],[263,702],[241,684],[283,724],[305,702],[290,686],[333,727],[354,701],
[372,683],[326,680],[373,726],[420,725],[399,708],[418,684],[460,725],[436,703],[465,680],[509,728],[483,703],
[510,679],[551,724],[528,704],[570,702],[546,681],[612,702],[594,685],[678,727],[638,726],[663,707],[640,686],
[678,686],[724,724],[707,702],[769,725],[746,703],[730,685],[767,681],[63,769],[25,766],[43,748],[110,768],
[88,752],[155,766],[130,747],[158,730],[198,774],[180,745],[245,771],[224,750],[260,748],[282,766],[308,752],
[332,773],[372,771],[356,744],[417,767],[395,751],[464,773],[444,751],[507,768],[488,746],[553,769],[574,752],
[528,751],[598,773],[615,745],[595,730],[638,773],[678,769],[661,748],[722,773],[708,748],[774,770],[751,745]
];

var GET_MAP_LIST_NPC_14ki_NW = [
//==========[ 北西砦 ]==========
[-745,2],[-617,4],[-400,1],[-350,2],
[-311,2],[-261,1],[-176,3],[-153,3],[-109,1],[-70,4],[-770,66],[-773,22],[-707,46],[-746,45],
[-723,20],[-682,65],[-658,45],[-682,20],[-641,65],[-619,41],[-635,20],[-598,18],[-569,44],[-550,19],
[-508,65],[-527,44],[-505,24],[-480,45],[-460,26],[-395,48],[-443,40],[-416,18],[-356,46],[-377,18],
[-310,44],[-331,25],[-290,64],[-243,62],[-260,41],[-289,25],[-246,24],[-217,41],[-196,20],[-177,48],
[-156,48],[-155,25],[-172,20],[-88,45],[-112,41],[-133,40],[-90,25],[-132,24],[-110,21],[-84,66],
[-46,66],[-68,62],[-63,46],[-46,42],[-70,24],[-48,23],[-26,65],[-22,48],[-19,24],[-4,23],
[-766,110],[-722,113],[-744,89],[-700,88],[-730,68],[-680,109],[-663,90],[-637,108],[-617,85],[-593,108],
[-551,106],[-570,88],[-596,68],[-549,68],[-508,110],[-526,86],[-466,109],[-484,87],[-458,70],[-419,106],
[-437,88],[-397,84],[-415,68],[-371,108],[-353,92],[-378,67],[-327,113],[-308,86],[-333,69],[-289,114],
[-261,87],[-238,114],[-200,111],[-222,91],[-178,108],[-157,107],[-178,89],[-155,84],[-152,68],[-109,111],
[-91,110],[-130,107],[-133,91],[-110,89],[-91,88],[-133,69],[-106,68],[-46,112],[-63,107],[-69,91],
[-43,90],[-20,114],[-2,109],[-20,92],[-767,158],[-752,131],[-728,154],[-705,131],[-684,154],[-664,133],
[-635,151],[-620,132],[-550,154],[-591,150],[-569,131],[-509,158],[-525,136],[-459,158],[-485,129],[-398,133],
[-443,129],[-372,152],[-351,131],[-333,153],[-306,136],[-245,153],[-286,151],[-263,130],[-194,154],[-217,128],
[-177,157],[-152,151],[-180,134],[-150,131],[-107,155],[-135,154],[-87,152],[-129,134],[-112,131],[-91,128],
[-70,156],[-47,154],[-47,134],[-69,129],[-18,151],[-18,136],[-2,132],[-766,196],[-708,216],[-728,202],
[-747,176],[-706,174],[-686,201],[-659,180],[-620,217],[-597,200],[-638,197],[-613,179],[-546,197],[-576,173],
[-510,194],[-532,173],[-486,219],[-459,199],[-480,178],[-444,177],[-437,219],[-399,216],[-421,198],[-396,177],
[-356,216],[-374,200],[-351,176],[-329,199],[-309,175],[-266,218],[-285,200],[-242,197],[-263,179],[-195,200],
[-221,174],[-150,194],[-151,175],[-177,174],[-88,218],[-129,216],[-108,201],[-128,175],[-88,173],[-108,172],
[-44,216],[-46,176],[-4,219],[-21,197],[-26,179],[-752,263],[-767,238],[-701,266],[-722,244],[-749,224],
[-661,264],[-678,240],[-656,220],[-618,265],[-641,238],[-571,261],[-551,242],[-593,238],[-576,220],[-530,263],
[-502,242],[-529,223],[-486,267],[-466,238],[-437,268],[-398,267],[-414,242],[-353,260],[-371,242],[-312,266],
[-328,243],[-309,221],[-265,260],[-287,242],[-242,242],[-217,268],[-201,245],[-175,260],[-158,246],[-176,223],
[-88,267],[-129,261],[-108,242],[-48,263],[-70,243],[-23,238],[-770,287],[-702,309],[-749,308],[-723,287],
[-656,311],[-685,284],[-618,309],[-598,286],[-637,284],[-575,311],[-549,285],[-526,311],[-507,284],[-486,304],
[-464,289],[-439,310],[-393,305],[-421,285],[-350,307],[-375,284],[-306,309],[-334,283],[-262,308],[-242,289],
[-283,282],[-217,311],[-195,289],[-179,311],[-156,282],[-133,306],[-90,306],[-114,287],[-40,312],[-66,285],
[-22,287],[-766,334],[-726,372],[-708,356],[-746,350],[-724,328],[-660,353],[-683,327],[-616,354],[-597,331],
[-642,326],[-551,371],[-574,352],[-551,331],[-504,371],[-530,350],[-509,330],[-482,354],[-444,350],[-465,331],
[-421,334],[-392,355],[-350,351],[-371,330],[-312,350],[-327,333],[-245,371],[-263,354],[-284,326],[-224,350],
[-238,326],[-195,326],[-177,356],[-150,330],[-92,355],[-133,352],[-107,331],[-44,348],[-69,330],[-23,330],
[-768,414],[-766,374],[-722,422],[-702,396],[-745,392],[-682,420],[-663,393],[-682,374],[-640,422],[-620,399],
[-638,378],[-554,421],[-596,417],[-573,398],[-592,373],[-504,420],[-530,396],[-459,417],[-486,394],[-464,378],
[-436,397],[-395,397],[-422,376],[-376,421],[-351,394],[-375,373],[-331,415],[-310,396],[-328,375],[-287,418],
[-241,417],[-267,396],[-283,373],[-200,414],[-222,394],[-202,373],[-176,392],[-153,376],[-112,415],[-129,396],
[-87,396],[-107,374],[-65,416],[-42,396],[-62,375],[-24,417],[-3,392],[-23,375],[-773,465],[-724,465],
[-703,442],[-746,440],[-685,464],[-658,437],[-635,464],[-612,440],[-549,460],[-595,458],[-570,439],[-504,462],
[-525,439],[-463,458],[-487,440],[-419,460],[-393,443],[-372,459],[-353,436],[-334,460],[-309,436],[-245,465],
[-289,463],[-268,444],[-199,461],[-216,444],[-154,464],[-106,466],[-92,444],[-129,441],[-70,463],[-43,439],
[-19,460],[-1,437],[-773,506],[-730,507],[-700,488],[-746,487],[-682,503],[-661,480],[-640,506],[-615,485],
[-591,507],[-547,505],[-571,487],[-504,502],[-531,485],[-460,509],[-481,483],[-417,502],[-442,488],[-399,483],
[-378,505],[-354,484],[-332,508],[-306,483],[-288,506],[-264,484],[-219,524],[-194,509],[-238,503],[-218,487],
[-158,508],[-174,487],[-110,510],[-129,487],[-90,482],[-47,524],[-70,508],[-47,481],[-3,525],[-18,502],
[-769,551],[-747,574],[-702,568],[-724,549],[-748,530],[-707,530],[-663,571],[-679,549],[-664,528],[-616,574],
[-642,551],[-617,526],[-575,576],[-594,554],[-550,549],[-572,526],[-529,575],[-505,551],[-525,527],[-484,570],
[-462,554],[-481,532],[-441,573],[-414,546],[-398,531],[-441,528],[-392,570],[-354,570],[-373,553],[-353,531],
[-308,575],[-334,554],[-309,526],[-263,569],[-290,550],[-241,547],[-266,531],[-221,572],[-199,548],[-178,568],
[-153,552],[-173,526],[-91,575],[-130,569],[-113,551],[-132,526],[-46,569],[-64,549],[-85,530],[-4,568],
[-18,550],[-750,618],[-772,591],[-702,617],[-722,598],[-660,616],[-678,596],[-618,613],[-635,598],[-572,620],
[-596,597],[-549,590],[-532,616],[-509,594],[-487,618],[-463,591],[-398,614],[-443,613],[-416,595],[-350,619],
[-374,594],[-312,620],[-331,590],[-260,612],[-244,597],[-285,596],[-218,617],[-196,593],[-174,613],[-154,592],
[-88,620],[-136,618],[-111,591],[-40,619],[-67,597],[-22,595],[-766,636],[-745,658],[-708,657],[-723,634],
[-664,664],[-683,639],[-620,661],[-638,640],[-597,640],[-576,664],[-553,638],[-532,656],[-510,635],[-488,664],
[-466,640],[-442,663],[-397,658],[-414,642],[-349,658],[-378,637],[-310,657],[-334,637],[-265,664],[-244,635],
[-290,634],[-224,662],[-197,635],[-174,662],[-150,637],[-132,656],[-91,656],[-107,634],[-48,664],[-62,638],
[-19,642],[-769,726],[-751,701],[-767,681],[-727,723],[-701,705],[-722,680],[-680,722],[-661,700],[-680,684],
[-640,729],[-615,708],[-635,686],[-592,729],[-548,728],[-573,704],[-591,685],[-552,679],[-503,725],[-527,706],
[-504,683],[-465,726],[-488,705],[-458,685],[-414,723],[-394,707],[-436,700],[-419,686],[-372,729],[-351,706],
[-372,682],[-331,729],[-310,708],[-330,683],[-290,725],[-268,702],[-244,685],[-284,680],[-238,723],[-197,723],
[-218,704],[-194,683],[-152,729],[-177,700],[-157,684],[-111,726],[-135,705],[-106,679],[-66,724],[-41,702],
[-86,701],[-64,686],[-18,728],[-18,683],[-773,773],[-727,772],[-748,749],[-708,744],[-678,770],[-657,751],
[-638,766],[-620,746],[-552,774],[-590,771],[-574,750],[-507,771],[-524,745],[-464,768],[-486,746],[-414,770],
[-439,752],[-394,744],[-378,774],[-350,748],[-331,770],[-310,750],[-243,774],[-283,766],[-261,747],[-202,773],
[-223,751],[-155,767],[-173,749],[-112,769],[-134,751],[-68,774],[-86,751],[-46,749],[-26,773],[-3,745]
];

var GET_MAP_LIST_NPC_14ki_SE = [
//==========[ 南東砦 ]==========
[66,-770],[20,-773],[84,-752],[110,-767],[155,-767],[201,-772],[246,-770],
[282,-767],[354,-751],[330,-771],[376,-766],[419,-774],[438,-751],[464,-773],[482,-751],[505,-769],[553,-772],
[596,-774],[657,-751],[634,-774],[682,-766],[725,-774],[767,-773],[3,-746],[41,-701],[26,-722],[41,-749],
[85,-705],[108,-723],[69,-727],[135,-708],[151,-722],[134,-745],[177,-701],[194,-726],[180,-744],[217,-745],
[265,-706],[224,-707],[246,-725],[267,-749],[307,-701],[290,-725],[307,-748],[348,-707],[371,-725],[329,-729],
[395,-708],[422,-724],[393,-746],[439,-703],[461,-725],[524,-705],[488,-707],[508,-727],[568,-700],[546,-725],
[532,-749],[568,-749],[617,-706],[597,-727],[617,-745],[660,-705],[638,-730],[706,-700],[683,-728],[700,-746],
[744,-703],[730,-724],[769,-729],[751,-745],[45,-664],[66,-680],[20,-682],[91,-662],[109,-681],[128,-663],
[154,-679],[173,-662],[197,-680],[262,-659],[222,-664],[244,-686],[310,-658],[285,-684],[353,-660],[330,-680],
[392,-660],[419,-681],[377,-683],[440,-664],[462,-681],[485,-664],[506,-685],[527,-662],[575,-662],[553,-682],
[618,-656],[595,-678],[659,-662],[634,-686],[701,-657],[723,-679],[682,-683],[746,-662],[773,-683],[2,-620],
[66,-597],[47,-613],[22,-639],[92,-619],[110,-640],[70,-642],[135,-614],[157,-641],[179,-616],[201,-641],
[221,-617],[265,-619],[245,-638],[308,-612],[288,-635],[353,-613],[372,-636],[331,-642],[377,-597],[400,-617],
[415,-634],[440,-615],[462,-637],[485,-616],[505,-634],[528,-614],[571,-615],[549,-639],[612,-612],[595,-636],
[659,-616],[639,-637],[706,-620],[681,-635],[773,-597],[750,-616],[730,-639],[767,-642],[64,-546],[23,-552],
[45,-572],[24,-592],[110,-554],[85,-569],[110,-590],[153,-553],[130,-569],[152,-593],[194,-549],[174,-573],
[201,-595],[239,-554],[223,-575],[262,-575],[246,-590],[282,-552],[304,-569],[287,-593],[328,-554],[353,-568],
[330,-593],[414,-550],[376,-553],[397,-568],[416,-591],[460,-550],[441,-576],[460,-593],[509,-553],[480,-570],
[507,-595],[554,-554],[528,-571],[573,-576],[548,-593],[594,-552],[614,-571],[590,-591],[638,-547],[658,-574],
[637,-591],[728,-549],[682,-550],[705,-568],[722,-590],[682,-596],[773,-549],[745,-570],[64,-503],[23,-509],
[41,-532],[112,-507],[88,-529],[158,-505],[132,-532],[197,-507],[218,-526],[173,-527],[241,-505],[266,-526],
[284,-503],[307,-526],[334,-508],[352,-526],[374,-506],[414,-507],[398,-530],[458,-505],[444,-526],[510,-502],
[484,-531],[548,-510],[575,-528],[528,-529],[595,-507],[616,-528],[641,-506],[658,-528],[680,-502],[723,-503],
[701,-530],[771,-504],[744,-529],[4,-488],[18,-461],[66,-464],[41,-488],[114,-463],[84,-482],[156,-465],
[133,-488],[199,-461],[219,-482],[174,-488],[238,-465],[264,-484],[290,-463],[307,-485],[326,-459],[354,-480],
[375,-461],[416,-466],[399,-480],[463,-462],[442,-485],[502,-460],[482,-486],[553,-459],[526,-484],[569,-485],
[590,-459],[616,-483],[642,-460],[662,-488],[724,-460],[681,-462],[702,-482],[769,-466],[750,-488],[42,-398],
[21,-414],[65,-415],[42,-441],[85,-397],[113,-419],[88,-438],[132,-398],[129,-441],[172,-396],[198,-416],
[173,-443],[221,-395],[266,-395],[240,-418],[265,-439],[220,-440],[309,-394],[282,-418],[308,-442],[351,-395],
[329,-415],[370,-421],[351,-437],[395,-398],[397,-441],[444,-398],[465,-422],[487,-399],[509,-418],[481,-442],
[530,-394],[576,-399],[552,-421],[532,-441],[570,-443],[619,-393],[598,-420],[614,-437],[663,-397],[641,-415],
[656,-436],[700,-396],[682,-417],[728,-421],[707,-437],[748,-396],[767,-422],[751,-440],[2,-349],[46,-352],
[20,-375],[64,-377],[92,-354],[107,-372],[135,-356],[156,-376],[176,-356],[195,-374],[223,-352],[261,-353],
[240,-377],[306,-355],[282,-370],[348,-353],[331,-372],[399,-348],[377,-372],[421,-376],[437,-349],[461,-378],
[481,-356],[503,-378],[529,-348],[570,-354],[552,-370],[614,-352],[592,-377],[660,-355],[641,-378],[706,-349],
[723,-371],[680,-373],[748,-350],[769,-372],[45,-312],[65,-327],[21,-331],[86,-311],[108,-333],[132,-304],
[152,-331],[175,-309],[202,-327],[266,-306],[220,-308],[240,-330],[305,-305],[283,-330],[352,-307],[326,-331],
[397,-312],[414,-327],[377,-328],[436,-304],[462,-332],[480,-304],[503,-333],[532,-308],[570,-308],[551,-327],
[616,-307],[594,-326],[658,-307],[634,-330],[704,-312],[684,-329],[751,-308],[730,-330],[770,-332],[21,-245],
[46,-262],[62,-286],[21,-288],[108,-244],[84,-262],[112,-285],[155,-242],[135,-262],[151,-283],[217,-264],
[176,-268],[199,-289],[242,-246],[266,-261],[243,-289],[287,-244],[304,-261],[289,-289],[329,-245],[355,-265],
[328,-283],[372,-283],[415,-240],[400,-267],[420,-290],[440,-265],[464,-284],[481,-266],[504,-284],[569,-263],
[531,-267],[553,-284],[595,-243],[620,-267],[598,-282],[640,-241],[664,-263],[638,-290],[722,-240],[684,-242],
[701,-262],[682,-290],[726,-290],[766,-240],[748,-263],[771,-282],[2,-224],[19,-200],[43,-220],[109,-195],
[89,-217],[68,-238],[156,-202],[131,-224],[201,-194],[177,-217],[200,-239],[244,-197],[263,-222],[283,-194],
[306,-224],[334,-202],[370,-202],[353,-217],[420,-200],[394,-217],[378,-239],[463,-197],[439,-216],[465,-239],
[507,-201],[485,-221],[508,-239],[552,-195],[529,-217],[571,-221],[553,-239],[596,-194],[616,-219],[638,-198],
[659,-224],[681,-194],[726,-198],[702,-216],[769,-199],[750,-216],[41,-156],[24,-158],[63,-158],[48,-173],
[21,-179],[88,-152],[113,-156],[110,-178],[87,-180],[136,-150],[157,-153],[155,-175],[128,-180],[197,-150],
[173,-153],[172,-173],[218,-178],[243,-150],[263,-178],[284,-154],[312,-176],[334,-153],[349,-179],[377,-155],
[396,-175],[464,-155],[442,-177],[506,-158],[485,-175],[551,-157],[569,-175],[529,-179],[596,-151],[612,-175],
[636,-152],[658,-176],[684,-151],[702,-174],[730,-152],[767,-157],[750,-175],[42,-90],[62,-90],[47,-106],
[65,-107],[20,-113],[20,-128],[42,-131],[113,-89],[91,-106],[111,-108],[112,-128],[89,-130],[69,-133],
[128,-87],[157,-90],[155,-110],[136,-113],[128,-131],[150,-133],[175,-87],[197,-110],[177,-113],[174,-128],
[221,-92],[261,-92],[246,-111],[263,-129],[221,-132],[306,-92],[289,-114],[304,-135],[370,-106],[329,-112],
[356,-136],[395,-88],[414,-112],[398,-131],[438,-92],[460,-108],[442,-134],[484,-87],[507,-112],[481,-133],
[529,-89],[548,-113],[575,-133],[528,-134],[590,-113],[618,-135],[656,-87],[641,-112],[661,-134],[707,-91],
[727,-109],[685,-111],[706,-128],[749,-90],[774,-109],[746,-134],[1,-43],[65,-40],[19,-41],[40,-41],
[45,-65],[19,-67],[26,-85],[110,-40],[90,-44],[69,-66],[113,-67],[90,-68],[88,-86],[135,-43],
[155,-45],[134,-66],[152,-70],[177,-41],[217,-47],[261,-41],[240,-68],[311,-40],[286,-68],[351,-41],
[371,-62],[330,-64],[349,-85],[400,-42],[417,-63],[438,-46],[461,-69],[485,-47],[510,-62],[529,-46],
[575,-48],[554,-70],[571,-84],[615,-40],[591,-67],[620,-86],[661,-45],[637,-69],[700,-45],[682,-70],
[724,-70],[752,-45],[770,-64],[25,-4],[20,-19],[63,-19],[42,-25],[91,-19],[110,-22],[134,-1],
[133,-20],[156,-26],[195,-18],[176,-26],[266,-4],[238,-25],[284,-19],[334,-25],[372,-26],[417,-19],
[458,-25],[504,-26],[529,-4],[553,-18],[594,-26],[634,-25],[708,-1],[723,-18],[683,-21],[773,-24]
];

var GET_MAP_LIST_NPC_14ki_SW = [
//==========[ 南西砦 ]==========
[-752,-751],
[-773,-769],[-725,-771],[-682,-767],[-620,-750],[-641,-769],[-549,-766],[-592,-773],[-503,-768],[-487,-752],[-465,-767],
[-438,-752],[-420,-773],[-377,-770],[-328,-768],[-240,-766],[-287,-769],[-195,-771],[-153,-768],[-108,-768],[-44,-752],
[-70,-772],[-22,-770],[-751,-707],[-773,-727],[-704,-702],[-722,-724],[-703,-746],[-657,-702],[-680,-729],[-662,-746],
[-615,-705],[-640,-730],[-572,-706],[-554,-722],[-594,-724],[-568,-747],[-526,-700],[-509,-725],[-531,-749],[-482,-708],
[-460,-724],[-437,-701],[-418,-723],[-397,-744],[-392,-702],[-353,-705],[-375,-728],[-353,-749],[-312,-707],[-334,-727],
[-311,-744],[-267,-702],[-284,-724],[-242,-728],[-267,-749],[-218,-703],[-195,-728],[-217,-744],[-174,-704],[-150,-727],
[-175,-745],[-90,-700],[-132,-703],[-108,-728],[-131,-744],[-89,-745],[-41,-700],[-66,-724],[0,-705],[-26,-726],
[-769,-678],[-748,-663],[-708,-663],[-723,-680],[-656,-657],[-682,-681],[-618,-662],[-639,-686],[-568,-664],[-596,-683],
[-546,-683],[-531,-661],[-506,-680],[-485,-660],[-462,-684],[-438,-662],[-396,-663],[-420,-681],[-348,-664],[-376,-681],
[-309,-662],[-327,-678],[-267,-662],[-287,-684],[-243,-686],[-223,-657],[-199,-681],[-172,-658],[-153,-684],[-128,-656],
[-88,-658],[-109,-685],[-45,-656],[-68,-679],[0,-657],[-22,-683],[-769,-641],[-702,-613],[-745,-618],[-727,-636],
[-680,-597],[-662,-620],[-686,-642],[-617,-612],[-598,-638],[-642,-640],[-575,-612],[-550,-637],[-529,-620],[-510,-642],
[-466,-597],[-485,-612],[-464,-642],[-419,-598],[-442,-612],[-398,-617],[-414,-639],[-355,-619],[-377,-636],[-309,-616],
[-333,-639],[-268,-614],[-283,-640],[-245,-641],[-222,-612],[-197,-637],[-175,-617],[-155,-641],[-92,-612],[-129,-620],
[-114,-634],[-40,-616],[-65,-639],[-20,-638],[-770,-550],[-751,-575],[-772,-592],[-730,-554],[-703,-569],[-723,-592],
[-678,-550],[-659,-569],[-642,-548],[-618,-571],[-636,-596],[-592,-549],[-554,-552],[-576,-576],[-549,-594],[-590,-595],
[-509,-552],[-529,-576],[-505,-590],[-462,-546],[-485,-576],[-421,-551],[-437,-573],[-395,-576],[-374,-547],[-354,-569],
[-378,-595],[-334,-552],[-309,-573],[-332,-591],[-288,-547],[-240,-551],[-265,-576],[-240,-590],[-283,-594],[-197,-554],
[-224,-568],[-202,-596],[-153,-551],[-178,-572],[-157,-594],[-112,-554],[-88,-570],[-132,-574],[-110,-594],[-65,-550],
[-44,-569],[-63,-592],[-24,-548],[-1,-572],[-22,-593],[-770,-506],[-726,-506],[-703,-524],[-746,-531],[-685,-504],
[-661,-530],[-642,-509],[-615,-532],[-546,-506],[-592,-509],[-572,-528],[-505,-505],[-527,-528],[-462,-506],[-488,-527],
[-421,-503],[-437,-525],[-399,-527],[-372,-504],[-354,-527],[-333,-504],[-311,-525],[-286,-502],[-262,-530],[-238,-508],
[-199,-509],[-219,-526],[-155,-508],[-177,-528],[-106,-506],[-136,-527],[-70,-503],[-85,-529],[-42,-530],[-22,-505],
[0,-528],[-769,-459],[-708,-444],[-728,-465],[-745,-483],[-700,-488],[-679,-462],[-664,-482],[-634,-462],[-597,-464],
[-615,-480],[-554,-458],[-568,-483],[-508,-462],[-528,-487],[-466,-464],[-480,-486],[-418,-464],[-436,-482],[-374,-466],
[-392,-484],[-353,-487],[-332,-460],[-308,-481],[-244,-464],[-283,-466],[-268,-483],[-198,-459],[-216,-485],[-154,-466],
[-172,-483],[-130,-444],[-106,-458],[-128,-482],[-89,-483],[-62,-459],[-48,-488],[-26,-465],[-769,-422],[-750,-438],
[-706,-398],[-729,-419],[-657,-399],[-684,-414],[-657,-441],[-620,-393],[-636,-421],[-620,-443],[-590,-415],[-552,-420],
[-568,-442],[-528,-396],[-508,-420],[-525,-438],[-487,-399],[-463,-420],[-487,-439],[-442,-399],[-397,-400],[-399,-441],
[-370,-418],[-356,-437],[-310,-393],[-330,-420],[-311,-439],[-264,-395],[-246,-415],[-287,-419],[-267,-439],[-220,-396],
[-198,-420],[-218,-441],[-178,-395],[-178,-436],[-134,-395],[-106,-414],[-85,-397],[-65,-420],[-42,-436],[-84,-440],
[0,-397],[-19,-422],[-4,-442],[-767,-377],[-750,-392],[-702,-348],[-745,-349],[-726,-376],[-664,-355],[-678,-378],
[-615,-354],[-634,-371],[-575,-353],[-590,-371],[-547,-373],[-571,-392],[-527,-354],[-506,-378],[-487,-351],[-462,-370],
[-393,-349],[-442,-353],[-415,-372],[-351,-350],[-376,-374],[-348,-392],[-307,-355],[-327,-377],[-262,-352],[-243,-371],
[-290,-376],[-222,-353],[-198,-372],[-178,-348],[-153,-372],[-90,-349],[-135,-351],[-109,-371],[-43,-350],[-62,-377],
[-40,-392],[-22,-377],[-752,-309],[-767,-333],[-704,-311],[-723,-329],[-660,-309],[-678,-328],[-615,-309],[-641,-327],
[-574,-309],[-595,-327],[-553,-330],[-525,-312],[-507,-329],[-487,-309],[-460,-327],[-436,-311],[-399,-311],[-418,-330],
[-351,-307],[-373,-326],[-310,-310],[-334,-332],[-262,-305],[-288,-326],[-221,-312],[-200,-326],[-239,-329],[-174,-304],
[-157,-330],[-136,-311],[-111,-331],[-84,-304],[-47,-307],[-67,-333],[-19,-331],[-766,-241],[-772,-283],[-722,-245],
[-746,-263],[-700,-263],[-726,-283],[-680,-241],[-659,-260],[-683,-283],[-640,-246],[-619,-265],[-640,-288],[-549,-243],
[-596,-244],[-573,-264],[-590,-286],[-551,-288],[-504,-241],[-524,-267],[-507,-290],[-459,-246],[-483,-262],[-465,-283],
[-417,-242],[-440,-263],[-393,-263],[-422,-283],[-371,-243],[-353,-265],[-371,-286],[-328,-241],[-309,-264],[-330,-288],
[-284,-246],[-266,-264],[-290,-285],[-244,-287],[-199,-241],[-216,-262],[-194,-286],[-152,-243],[-173,-263],[-155,-287],
[-135,-260],[-108,-288],[-66,-244],[-86,-260],[-40,-268],[-70,-284],[-22,-246],[0,-261],[-22,-289],[-773,-198],
[-726,-196],[-705,-219],[-748,-220],[-685,-201],[-660,-218],[-639,-196],[-614,-216],[-553,-197],[-591,-198],[-570,-220],
[-502,-202],[-525,-221],[-462,-194],[-485,-219],[-417,-200],[-441,-219],[-399,-223],[-374,-201],[-351,-217],[-333,-201],
[-309,-220],[-284,-195],[-268,-222],[-198,-198],[-238,-199],[-239,-238],[-156,-199],[-175,-224],[-111,-199],[-88,-220],
[-128,-224],[-114,-238],[-47,-222],[-18,-202],[-769,-151],[-722,-157],[-747,-178],[-703,-180],[-680,-156],[-663,-180],
[-635,-150],[-612,-174],[-590,-155],[-553,-155],[-573,-178],[-507,-156],[-526,-173],[-462,-156],[-488,-175],[-396,-176],
[-436,-180],[-373,-150],[-350,-175],[-327,-158],[-305,-176],[-282,-156],[-246,-158],[-260,-173],[-201,-158],[-217,-175],
[-174,-157],[-154,-157],[-177,-176],[-158,-180],[-92,-151],[-113,-152],[-132,-154],[-88,-173],[-136,-179],[-112,-179],
[-47,-150],[-63,-154],[-45,-175],[-19,-151],[-3,-157],[-4,-174],[-19,-175],[-750,-87],[-768,-112],[-750,-130],
[-706,-87],[-728,-111],[-701,-128],[-657,-89],[-683,-109],[-664,-132],[-617,-90],[-635,-111],[-598,-113],[-613,-136],
[-549,-106],[-573,-132],[-525,-87],[-503,-114],[-529,-130],[-483,-90],[-459,-108],[-485,-134],[-393,-90],[-414,-107],
[-440,-130],[-400,-132],[-370,-112],[-356,-136],[-307,-91],[-327,-113],[-304,-130],[-266,-90],[-289,-111],[-265,-133],
[-219,-90],[-239,-114],[-201,-114],[-217,-130],[-178,-110],[-153,-114],[-180,-130],[-157,-134],[-132,-90],[-88,-106],
[-129,-111],[-111,-111],[-89,-129],[-128,-134],[-114,-134],[-62,-90],[-69,-109],[-46,-113],[-65,-133],[-42,-135],
[-2,-89],[-21,-110],[-1,-113],[-3,-129],[-20,-132],[-771,-67],[-707,-41],[-746,-42],[-724,-63],[-658,-48],
[-685,-66],[-614,-48],[-634,-68],[-569,-40],[-596,-63],[-548,-69],[-568,-85],[-530,-45],[-508,-70],[-488,-48],
[-459,-68],[-395,-40],[-443,-41],[-416,-63],[-436,-84],[-354,-45],[-377,-65],[-356,-84],[-312,-41],[-329,-68],
[-267,-40],[-285,-62],[-241,-65],[-222,-46],[-152,-40],[-176,-41],[-158,-62],[-152,-85],[-172,-86],[-129,-41],
[-107,-45],[-114,-63],[-135,-68],[-88,-69],[-106,-86],[-88,-86],[-85,-40],[-68,-45],[-47,-48],[-47,-67],
[-66,-68],[-44,-86],[-24,-46],[-26,-68],[0,-70],[-22,-86],[-771,-25],[-706,-4],[-726,-20],[-660,-2],
[-682,-25],[-635,-26],[-568,-2],[-553,-18],[-595,-19],[-524,-4],[-508,-24],[-481,-4],[-462,-26],[-440,-1],
[-417,-26],[-374,-20],[-328,-22],[-283,-26],[-216,-4],[-202,-22],[-238,-26],[-179,-18],[-158,-23],[-89,-2],
[-133,-3],[-87,-19],[-134,-20],[-106,-22],[-41,-4],[-41,-22],[-64,-26],[-25,-3],[-21,-23],[-3,-23]
];

// 探索座標の決定
var GET_MAP_LIST;
if (OPT_TARGET_NPC_MAP === TARGET_NPC_MAP_TYPE_5) {
	if (OPT_TARGET_ZONE == TARGET_ZONE_NORTH_EAST) GET_MAP_LIST = GET_MAP_LIST_NPC_5ki_NE; else
	if (OPT_TARGET_ZONE == TARGET_ZONE_NORTH_WEST) GET_MAP_LIST = GET_MAP_LIST_NPC_5ki_NW; else
	if (OPT_TARGET_ZONE == TARGET_ZONE_SOUTH_EAST) GET_MAP_LIST = GET_MAP_LIST_NPC_5ki_SE; else
	if (OPT_TARGET_ZONE == TARGET_ZONE_SOUTH_WEST) GET_MAP_LIST = GET_MAP_LIST_NPC_5ki_SW; else
	GET_MAP_LIST = GET_MAP_LIST_BUSHO_5ki;
} else if (OPT_TARGET_NPC_MAP === TARGET_NPC_MAP_TYPE_10) {
	if (OPT_TARGET_ZONE == TARGET_ZONE_NORTH_EAST) GET_MAP_LIST = GET_MAP_LIST_NPC_10ki_NE; else
	if (OPT_TARGET_ZONE == TARGET_ZONE_NORTH_WEST) GET_MAP_LIST = GET_MAP_LIST_NPC_10ki_NW; else
	if (OPT_TARGET_ZONE == TARGET_ZONE_SOUTH_EAST) GET_MAP_LIST = GET_MAP_LIST_NPC_10ki_SE; else
	if (OPT_TARGET_ZONE == TARGET_ZONE_SOUTH_WEST) GET_MAP_LIST = GET_MAP_LIST_NPC_10ki_SW; else
	GET_MAP_LIST = GET_MAP_LIST_BUSHO_10ki;
} else if (OPT_TARGET_NPC_MAP === TARGET_NPC_MAP_TYPE_14) {
	if (OPT_TARGET_ZONE == TARGET_ZONE_NORTH_EAST) GET_MAP_LIST = GET_MAP_LIST_NPC_14ki_NE; else
	if (OPT_TARGET_ZONE == TARGET_ZONE_NORTH_WEST) GET_MAP_LIST = GET_MAP_LIST_NPC_14ki_NW; else
	if (OPT_TARGET_ZONE == TARGET_ZONE_SOUTH_EAST) GET_MAP_LIST = GET_MAP_LIST_NPC_14ki_SE; else
	if (OPT_TARGET_ZONE == TARGET_ZONE_SOUTH_WEST) GET_MAP_LIST = GET_MAP_LIST_NPC_14ki_SW; else
	GET_MAP_LIST = GET_MAP_LIST_BUSHO_14ki;
} else {
	GET_MAP_LIST = [[0,0]];
}


jQuery.noConflict();
j$ = jQuery;

var HOST		= location.hostname;
var INTERVAL	= 500;

//==========[ ラッパー ]==========
function xpath(query,targetDoc) {
	return document.evaluate(query, targetDoc, null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);
}

function cajaxRequest(url, method, param, func_success, func_fail){
	var req = new XMLHttpRequest();
	req.onreadystatechange = function() {
		if (req.readyState == 4 && req.status == 200){
			if (func_success) {
				func_success(req);
			}
		}
		else if (req.readyState == 4 && req.status != 200){
			if (func_fail) {
				func_fail(req);
			}
		}
	};

	req.open(method, url, true);
	if (method == 'POST'){
		req.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
	}
	req.send(param);
}

function createNewDocument(str) {
	return createHTMLDocumentByString(str);

	function createHTMLDocumentByString(str) {
		if (document.documentElement.nodeName != 'HTML') {
			return new DOMParser().parseFromString(str, 'application/xhtml+xml')
		}
		var html = strip_html_tag(str)
		var htmlDoc
		try {
			// We have to handle exceptions since Opera 9.6 throws
			// a NOT_SUPPORTED_ERR exception for |document.cloneNode(false)|
			// against the DOM 3 Core spec.
			htmlDoc = document.cloneNode(false)
			htmlDoc.appendChild(htmlDoc.importNode(document.documentElement, false))
		}
		catch(e) {
			htmlDoc = document.implementation.createDocument(null, 'html', null)
		}
		var fragment = createDocumentFragmentByString(html)
		try {
			fragment = htmlDoc.adoptNode(fragment)
		}
		catch(e) {
			fragment = htmlDoc.importNode(fragment, true)
		}
		htmlDoc.documentElement.appendChild(fragment)
		return htmlDoc
	}
	function strip_html_tag(str) {
		var chunks = str.split(/(<html(?:[ \t\r\n][^>]*)?>)/)
		if (chunks.length >= 3) {
			chunks.splice(0, 2)
		}
		str = chunks.join('')
		chunks = str.split(/(<\/html[ \t\r\n]*>)/)
		if (chunks.length >= 3) {
			chunks.splice(chunks.length - 2)
		}
		return chunks.join('')
	}
	function createDocumentFragmentByString(str) {
		var range = document.createRange()
		range.setStartAfter(document.body)
		return range.createContextualFragment(str)
	}
}

//==========[ ロジック部 ]==========
function getAllyName(callback){
	var url = "http://"+HOST+"/user/";
	cajaxRequest(url, 'GET', null, function(r){
		var html = r.responseText;
		var tmp = html.match(/<td[^>]*>同盟<\/td>[^<]*<td[^>]*>[^>]*><a href="[^"]*">([^<]+)<\/a>[^>]*<\/td>/);
		if (!tmp) {
			tmp = html.match(/<td[^>]*>同盟<\/td>[^<]*<td[^>]*>[^>]*<a href="[^"]*">([^<]+)<\/a>[^>]*<\/td>/);
		}
		var ally_name = tmp? tmp[1]: null;
		if (callback) {
			callback(ally_name);
		}
	});
}

// MAP データをオブジェクトとして返す
function genMapInfo(x,y,m,h,k,g,l,e,c,b,f,j,d,i,a,p,t){
	this.x = x; // center-x
	this.y = y; // center-y
	this.m = m; // 削除中
	this.h = h; // 地名
	this.k = k; // 君主名
	this.g = g; // 人口-
	this.l = l; // 座標(x,y)
	this.e = e; // 同盟名
	this.c = c.length; // 戦力★
	this.b = b; // 距離
	this.f = f; // 森
	this.j = j; // 岩
	this.d = d; // 鉄
	this.i = i; // 糧
	this.a = parseInt(a,10); // NPCフラグ
	this.p = p; // 保護期間
	this.t = t; // 深夜停戦
	this.xy = l.replace(/^\((-?[0-9]+\,-?[0-9]+)\)$/, "$1");
}

// MAP データを取得
function getMap(ally, x, y, callback){
	if (!ally) ally = "";
	var url = "http://"+HOST+"/map.php?x=" + x + "&y=" + y + "&type=1";
	cajaxRequest(url, 'GET', null, function(r){
		var htmldoc = createNewDocument(r.responseText);

		var areas = htmldoc.evaluate('//*[@id="mapOverlayMap"]//area/@onmouseover',
			htmldoc, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);

		//ターゲット座標を中心とした9マスのみを抜く
		var targets = [ [x-1,y-1], [x-1,y], [x-1,y+1], [x,y-1], [x,y], [x,y+1], [x+1,y-1], [x+1,y], [x+1,y+1] ];

		var neighbors=[];	// 隣接同盟名
		var capture='';		// 攻略済か
		var npc_name, npc_power;

		for (var p = 0; p < areas.snapshotLength; p++) {
			var rowText = areas.snapshotItem(p).textContent;
				rowText = rowText.replace(/^.*rewriteAddRemoving/, "genMapInfo");
				//rowText = rowText.replace(/^.*mapInfoView/, "genMapInfo");
				//rowText = rowText.replace(/^.*rewrite/, "genMapInfo");
				rowText = rowText.replace(/\); .*$/, ");");
				rowText = rowText.replace(/^genMapInfo\(/, "var info = new genMapInfo("+x+","+y+",");
			eval(rowText);
			for (var z = 0; z < targets.length; z++){
				var q = targets[z][0]+","+targets[z][1];
				if (info.xy == q) {
					//ターゲット座標
					if (info.a == 1) {
						// NPC砦
						npc_name=info.h;
						if (npc_name.match(/^([南北][東西]砦)(\d{1,3})$/)) {
							// 北西砦1 -> 北西砦001 のように桁数を合わせる
							npc_name = RegExp.$1 + ("00"+RegExp.$2).slice(-3);
						}
						npc_power=info.c;
						if (info.e != '-') {
							// 制圧同盟名を覚える
							capture = info.e;
						}
					} else {
						// 領地
						if (info.e != '') {
							// 隣接同盟を覚える
							neighbors.push(info.e);
						}
					}
					break;
				}
			}
		}

		// 隣接マス数を覚える
		var cell_count = neighbors.length;

		// 隣接同盟の重複を外す
		neighbors = neighbors.filter(function (x, i, self) {
			return self.indexOf(x) === i;
		});

		// 基礎情報
		var info=[];
		info.push(npc_name);//領地名
		info.push(x);
		info.push(y);
		info.push(npc_power);//★の数

		// 隣接状況
		var status = "";
		if (ally && ally.length) {
			if (capture.length) {
				// 制圧情報
				if (capture == ally) {
					status = "制圧";
				} else {
					status = "負け";
				}
			} else if (j$.inArray(ally, neighbors) == -1) {
				// 自同盟隣接なし
				if (cell_count == 8) {
	  				status = "隣接なし";
				} else {
  					status = "隣接空き"+(8-cell_count)+"マス";
				}
			} else {
				// 自同盟隣接あり
				if (neighbors.length == 1) {
					if (cell_count == 8) {
						status = "完全包囲";
					} else {
						status = "隣接(残"+(8-cell_count)+"マス)";
					}
				}
				else if (neighbors.length >= 2) {
					status = "競合(空"+(8-cell_count)+"マス)";
				}
			}
		} else {
			if (capture.length) {
				// 制圧情報
				status = "攻略済("+capture+")";
			} else {
				if (neighbors.length == 1) {
					status = "未攻略(完全包囲)";
				} else {
					status = "未攻略(空"+(8-cell_count)+"マス)";
				}
			}
		}
		info.push(status);

		// 競合同盟
		info.push(neighbors.filter(function(x) { return x != ally; }).join(","));

		if (callback) {
			callback(info);
		}

	}, null);
}

//h:地名、k:君主名、g:人口-、l:座標(x,y)、e:同盟名、c:戦力★、b:距離、f:森、j:岩、d:鉄、i:糧、a:NPCフラグ
//'南東砦49', '南東守衛49', '-', '(152,-42)', '-', '★★★★', '5.83', '', '', '', '', '1'
//'許昌', '曹操', '-', '(0,0)', '-', '★★★★★★★★★', '161.77', '', '', '', '', '1'
//'南東砦57', 'キーテナイ', '-', '(176,-47)', 'WBＭ', '★', '20.62', '', '', '', '', '1'
//'新領地178,-46', 'ヴァルキリー', '-', '(178,-46)', 'WBＭ', '★', '22.14', '1', '0', '0', '0', ''
//'', '', '', '(175,-47)', '', '★', '19.7', '0', '1', '0', '0', ''

//==========[ UI 部 ]==========
var d = document;
var $ = function(id) { return d.getElementById(id); };
var $x = function(xp,dc) { return d.evaluate(xp, dc||d, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue; };
var $a = function(xp,dc) { var r = d.evaluate(xp, dc||d, null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null); var a=[]; for(var i=0; i<r.snapshotLength; i++){ a.push(r.snapshotItem(i)); } return a; };
var $e = function(dc,e,f) { if (!dc) return; dc.addEventListener(e, f, false); };
function startXX(obj, ally_name){
	OPT_TARGET_ALLY = prompt("自同盟名を入力してください。\n空欄にすると客観的情報を出力します。",ally_name);
	if( confirm("全マップデータを一気に取得するためサーバに負荷がかかります。\n何度も実行するとDoS攻撃と同じなので、実行には注意して下さい") == false ) return;

	//窓作成
	var elm_xy = cgetElementXY( obj );
	var yy = elm_xy.y - 320;
	if( yy < 0 ) yy = 0;
	createCSVWindow(10, yy);

	var elm_msg = $("fort_csvWindow_message");
	if( !elm_msg ) return;
	var elm_csv = $("fort_csvWindow_csv");
	if( !elm_csv ) return;

	var index = 0;
	var item_count = GET_MAP_LIST.length;

	var csv_txt = ["地名","x","y","★","隣接状況","競合同盟"].join("\t")+"\n";
	window.setTimeout(timerFunc, 0);

	function timerFunc()
	{
		var item = GET_MAP_LIST[index];

		getMap(OPT_TARGET_ALLY, item[0], item[1], function(x){
			csv_txt += x.join("\t")+"\n";

			index++;
			elm_msg.innerHTML = "取得中... ( " + index + " / " + item_count + " )";
			if (index < item_count) {
				window.setTimeout(timerFunc, 0);
			} else {
				elm_msg.innerHTML += ".. 完了しました。CTRL + A → CTRL + Cでコピーし、Excelなどに貼りつけてください";
				elm_csv.value = csv_txt;
				elm_csv.focus();
			}
		});
	}
}
function createCSVWindow(x, y)
{
	var cc = $("fort_csvWindow");
	if( cc ) cc.parentNode.removeChild(cc);
	cc = d.createElement("div");
	cc.id = "fort_csvWindow";
	cc.style.left = x + "px";
	cc.style.top = y + "px";
	cc.style.position = "absolute";
	cc.style.backgroundColor = "lightgray";
	cc.style.border = "outset 2px lightgray";
	cc.style.fontSize = "12px";
	cc.style.padding = "15px";
	cc.style.zIndex = 2000;

	cc.style.padding = "10px";
	var dv = d.createElement("div");
		dv.id = "fort_csvWindow_message";
	cc.appendChild(dv);
	var tx = d.createElement("textarea");
		tx.id = "fort_csvWindow_csv";
		tx.rows = 25;
		tx.cols = 140;
		tx.style.overflow = "scroll";
	cc.appendChild(tx);

	cc.appendChild(d.createElement("br") );
	ccreateButton(cc, "閉じる", "", function(){
		var cc = $("fort_csvWindow");
		if( cc ) cc.parentNode.removeChild(cc);
	});

	$("fort_floatpanel").appendChild(cc);
}
function ccreateButton(container, text, title, func)
{
	var btn = d.createElement("input");
		btn.style.padding = "1px";
		btn.type = "button";
		btn.value = text;
		btn.title = title;
	container.appendChild(d.createTextNode(" "));
	container.appendChild(btn);
	container.appendChild(d.createTextNode(" "));
	$e(btn, "click", func);
	return btn;
}
function cgetElementXY(elm) {
	if( !elm ) return null;

	var xx = 0;
	var yy = 0;
	while(elm){
		xx += elm.offsetLeft;
		yy += elm.offsetTop;
		elm = elm.offsetParent;
	}
	return {"x":xx, "y":yy};
}

//==========[ 処理開始 ]==========
(function(){
	// 結果表示用 UI 作成
	var whiteWrapper = $("whiteWrapper");
	if (!whiteWrapper) return;
	var floatpanel = d.createElement("div");
		floatpanel.id = "fort_floatpanel";
	whiteWrapper.appendChild(floatpanel);

	// 処理開始用リンク作成
	var openLink = d.createElement("a");
		openLink.id = "Fort_Info_Tool";
		openLink.href = "javascript:void(0);";
		openLink.style.marginTop = "0px";
		openLink.style.marginLeft = "0px";
		openLink.innerHTML = " [砦包囲情報]";
		openLink.style.font = "10px 'ＭＳ ゴシック'";
		openLink.style.color = "#FFFFFF";
		openLink.style.cursor = "pointer";
		openLink.addEventListener("click", function() {
			if (OPT_TARGET_ALLY && OPT_TARGET_ALLY.length) {
					startXX(this, OPT_TARGET_ALLY);
			} else {
				getAllyName(function(ally_name){
					startXX(this, ally_name);
				});
			}
		}, true);
	var sidebar_list = xpath('//*[@class="sideBox"]', d);
	if (sidebar_list.snapshotLength) {
		sidebar_list.snapshotItem(0).appendChild(openLink);
	}
})();
